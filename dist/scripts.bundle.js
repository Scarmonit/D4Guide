(()=>{var O=class{constructor(){this.particles=[],this.canvas=null,this.ctx=null,this.animationId=null,this.init()}init(){this.createCanvas(),this.createParticles(),this.animate(),this.handleResize()}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.id="particle-canvas",this.canvas.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    `,document.body.prepend(this.canvas),this.ctx=this.canvas.getContext("2d"),this.resize()}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}handleResize(){window.addEventListener("resize",()=>this.resize())}createParticles(){let e=Math.floor(window.innerWidth*window.innerHeight/15e3);for(let t=0;t<e;t++)this.particles.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*2+1,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,opacity:Math.random()*.5+.2})}animate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach(e=>{e.x+=e.speedX,e.y+=e.speedY,e.x<0&&(e.x=this.canvas.width),e.x>this.canvas.width&&(e.x=0),e.y<0&&(e.y=this.canvas.height),e.y>this.canvas.height&&(e.y=0),this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.size,0,Math.PI*2),this.ctx.fillStyle=`rgba(139, 0, 0, ${e.opacity})`,this.ctx.fill()}),this.animationId=requestAnimationFrame(()=>this.animate())}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&this.canvas.remove()}};var P="d4guide_",A={get(s,e=null){try{let t=localStorage.getItem(P+s);return t?JSON.parse(t):e}catch{return e}},set(s,e){try{return localStorage.setItem(P+s,JSON.stringify(e)),!0}catch{return!1}},remove(s){try{return localStorage.removeItem(P+s),!0}catch{return!1}},clear(){try{return Object.keys(localStorage).filter(s=>s.startsWith(P)).forEach(s=>localStorage.removeItem(s)),!0}catch{return!1}}};var $=class{constructor(){this.currentTheme="dark",this.fontSize="medium",this.soundEnabled=!1,this.init()}init(){this.loadPreferences(),this.setupControls(),this.applyTheme(),this.applyFontSize()}loadPreferences(){this.currentTheme=A.get("theme","dark"),this.fontSize=A.get("fontSize","medium"),this.soundEnabled=A.get("soundEnabled",!1)}setupControls(){let e=document.getElementById("theme-toggle");e&&e.addEventListener("click",()=>this.toggleTheme());let t=document.getElementById("font-increase"),i=document.getElementById("font-decrease");t&&t.addEventListener("click",()=>this.changeFontSize(1)),i&&i.addEventListener("click",()=>this.changeFontSize(-1));let n=document.getElementById("sound-toggle");n&&n.addEventListener("click",()=>this.toggleSound())}toggleTheme(){this.currentTheme=this.currentTheme==="dark"?"light":"dark",A.set("theme",this.currentTheme),this.applyTheme()}applyTheme(){document.documentElement.setAttribute("data-theme",this.currentTheme);let e=document.getElementById("theme-toggle");e&&(e.textContent=this.currentTheme==="dark"?"\u2600\uFE0F":"\u{1F319}")}changeFontSize(e){let t=["small","medium","large"],i=t.indexOf(this.fontSize),n=Math.max(0,Math.min(t.length-1,i+e));this.fontSize=t[n],A.set("fontSize",this.fontSize),this.applyFontSize()}applyFontSize(){document.documentElement.setAttribute("data-font-size",this.fontSize)}toggleSound(){this.soundEnabled=!this.soundEnabled,A.set("soundEnabled",this.soundEnabled);let e=document.getElementById("sound-toggle");e&&(e.textContent=this.soundEnabled?"\u{1F50A}":"\u{1F507}")}playSound(e){this.soundEnabled}};var W=class{constructor(){this.sections=[],this.progressBar=null,this.init()}init(){this.setupProgressBar(),this.setupSectionObserver(),this.setupSmoothScroll(),this.setupScrollToTop()}setupProgressBar(){this.progressBar=document.getElementById("reading-progress"),this.progressBar&&window.addEventListener("scroll",()=>{let e=window.scrollY,t=document.documentElement.scrollHeight-window.innerHeight,i=e/t*100;this.progressBar.style.width=`${i}%`})}setupSectionObserver(){let e=document.querySelectorAll(".guide-section");if(!e.length)return;let t=new IntersectionObserver(i=>{i.forEach(n=>{n.isIntersecting&&n.target.classList.add("visible")})},{threshold:.1,rootMargin:"-50px"});e.forEach(i=>t.observe(i))}setupSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{let i=e.getAttribute("href");if(i==="#")return;t.preventDefault();let n=document.querySelector(i);n&&n.scrollIntoView({behavior:"smooth",block:"start"})})})}setupScrollToTop(){let e=document.getElementById("scroll-to-top");e&&(window.addEventListener("scroll",()=>{e.classList.toggle("visible",window.scrollY>500)}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}};var z=class{constructor(){this.skills={},this.maxPoints=58,this.usedPoints=0,this.init()}init(){this.loadSkills(),this.setupSkillControls(),this.updateDisplay()}loadSkills(){this.skills=A.get("skills",{}),this.calculateUsedPoints()}calculateUsedPoints(){this.usedPoints=Object.values(this.skills).reduce((e,t)=>e+t,0)}setupSkillControls(){document.querySelectorAll(".skill-point-control").forEach(e=>{let t=e.dataset.skillId,i=e.querySelector(".add-point"),n=e.querySelector(".remove-point");i&&i.addEventListener("click",()=>this.addPoint(t)),n&&n.addEventListener("click",()=>this.removePoint(t))})}addPoint(e){if(this.usedPoints>=this.maxPoints)return;let t=this.skills[e]||0,i=this.getMaxPointsForSkill(e);t<i&&(this.skills[e]=t+1,this.usedPoints++,this.saveAndUpdate())}removePoint(e){let t=this.skills[e]||0;t>0&&(this.skills[e]=t-1,this.usedPoints--,this.saveAndUpdate())}getMaxPointsForSkill(e){let t=document.querySelector(`[data-skill-id="${e}"]`);return parseInt(t?.dataset.maxPoints||"5",10)}saveAndUpdate(){A.set("skills",this.skills),this.updateDisplay()}updateDisplay(){let e=document.getElementById("skill-points-used");e&&(e.textContent=`${this.usedPoints}/${this.maxPoints}`),Object.entries(this.skills).forEach(([t,i])=>{let n=document.querySelector(`[data-skill-id="${t}"] .point-count`);n&&(n.textContent=i)})}resetSkills(){this.skills={},this.usedPoints=0,this.saveAndUpdate()}};var j=class{constructor(){this.stats={baseWeaponDamage:1e3,skillDamage:100,critChance:50,critDamage:150,vulnerableDamage:60,overpower:50,bloodWaveMultiplier:100},this.init()}init(){this.loadStats(),this.setupInputs(),this.calculate()}loadStats(){let e=A.get("calculatorStats",null);e&&(this.stats={...this.stats,...e})}setupInputs(){let e=document.getElementById("damage-calculator");e&&Object.keys(this.stats).forEach(t=>{let i=e.querySelector(`[data-stat="${t}"]`);i&&(i.value=this.stats[t],i.addEventListener("input",n=>{this.stats[t]=parseFloat(n.target.value)||0,this.saveAndCalculate()}))})}saveAndCalculate(){A.set("calculatorStats",this.stats),this.calculate()}calculate(){let{baseWeaponDamage:e,skillDamage:t,critChance:i,critDamage:n,vulnerableDamage:r,overpower:o,bloodWaveMultiplier:a}=this.stats,c=e*(1+t/100),l=1+i/100*(n/100),u=c*l,d=1+r/100,g=u*d,m=g*(1+a/100),f=m*(1+o/100);this.updateDisplay({base:c,average:u,vulnerable:g,bloodWave:m,overpower:f})}updateDisplay(e){let t=document.getElementById("damage-results");t&&Object.entries(e).forEach(([i,n])=>{let r=t.querySelector(`[data-result="${i}"]`);r&&(r.textContent=this.formatNumber(n))})}formatNumber(e){return e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":Math.round(e).toLocaleString()}};var ye={helm:[{name:"Howl from Below",type:"Unique Helm",rarity:"unique",stats:["+Life","+Lucky Hit Chance","+Corpse Skills Damage"],aspect:"Corpse Explosion summons Volatile Skeletons",notes:"Best in slot for Blood Wave builds"}],chest:[{name:"Blood Artisan's Cuirass",type:"Unique Chest",rarity:"unique",stats:["+Life","+Damage Reduction","+Overpower Damage"],aspect:"Blood Orbs enhance Blood skills",notes:"Core unique for the build"}],gloves:[{name:"Legendary Gloves",type:"Legendary",rarity:"legendary",stats:["+Critical Strike Chance","+Attack Speed","+Lucky Hit Chance"],aspect:"Aspect of the Embalmer",notes:"Look for high crit rolls"}],pants:[{name:"Legendary Pants",type:"Legendary",rarity:"legendary",stats:["+Life","+Damage Reduction","+Fortify Generation"],aspect:"Aspect of Shielding Storm",notes:"Defensive option"}],boots:[{name:"Legendary Boots",type:"Legendary",rarity:"legendary",stats:["+Movement Speed","+Essence Cost Reduction","+Ranks to Corpse Tendrils"],aspect:"Metamorphosis Aspect",notes:"Movement and utility"}],weapon:[{name:"Legendary Scythe",type:"Two-Handed Scythe",rarity:"legendary",stats:["+Weapon Damage","+Critical Strike Damage","+Vulnerable Damage","+Core Skill Damage"],aspect:"Aspect of the Long Shadow",notes:"High damage roll priority"}],amulet:[{name:"Legendary Amulet",type:"Amulet",rarity:"legendary",stats:["+Ranks to Blood Wave","+Cooldown Reduction","+Movement Speed"],aspect:"Blood-bathed Aspect",notes:"Essential for Blood Wave scaling"}],ring1:[{name:"Legendary Ring",type:"Ring",rarity:"legendary",stats:["+Critical Strike Chance","+Critical Strike Damage","+Maximum Life"],aspect:"Aspect of Grasping Veins",notes:"Offensive option"}],ring2:[{name:"Legendary Ring",type:"Ring",rarity:"legendary",stats:["+Vulnerable Damage","+Overpower Damage","+Lucky Hit Chance"],aspect:"Aspect of the Void",notes:"Damage amplification"}]};function p(s,e={}){let t=document.createElement(s);return Object.entries(e).forEach(([i,n])=>{i==="className"?t.className=n:(i.startsWith("data-"),t.setAttribute(i,n))}),t}var H=class{constructor(){this.modal=null,this.currentSlot=null,this.init()}init(){this.createModal(),this.setupGearSlots()}createModal(){this.modal=p("div",{id:"gear-modal",className:"modal hidden"});let e=p("div",{className:"modal-content"}),t=p("div",{className:"modal-header"}),i=p("h2",{id:"gear-modal-title"});i.textContent="Gear Comparison";let n=p("button",{className:"modal-close","aria-label":"Close modal"});n.textContent="\xD7",n.addEventListener("click",()=>this.closeModal()),t.appendChild(i),t.appendChild(n);let r=p("div",{id:"gear-modal-body",className:"modal-body"});e.appendChild(t),e.appendChild(r),this.modal.appendChild(e),document.body.appendChild(this.modal),this.modal.addEventListener("click",o=>{o.target===this.modal&&this.closeModal()})}setupGearSlots(){document.querySelectorAll(".gear-slot").forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.slot;this.openModal(t)})})}openModal(e){this.currentSlot=e;let t=this.modal.querySelector("#gear-modal-title"),i=this.modal.querySelector("#gear-modal-body");t.textContent=this.formatSlotName(e),i.innerHTML="";let n=ye[e]||[];if(n.length===0){let r=p("p",{className:"no-items"});r.textContent="No items available for this slot.",i.appendChild(r)}else n.forEach(r=>{i.appendChild(this.createItemCard(r))});this.modal.classList.remove("hidden"),document.body.style.overflow="hidden"}closeModal(){this.modal.classList.add("hidden"),document.body.style.overflow="",this.currentSlot=null}createItemCard(e){let t=p("div",{className:`gear-card ${e.rarity||"legendary"}`}),i=p("div",{className:"gear-card-header"}),n=p("h3");n.textContent=e.name;let r=p("span",{className:"item-type"});if(r.textContent=e.type||"",i.appendChild(n),i.appendChild(r),t.appendChild(i),e.stats&&e.stats.length>0){let o=p("ul",{className:"item-stats"});e.stats.forEach(a=>{let c=p("li");c.textContent=a,o.appendChild(c)}),t.appendChild(o)}if(e.aspect){let o=p("div",{className:"item-aspect"}),a=p("strong");a.textContent="Aspect: ";let c=document.createTextNode(e.aspect);o.appendChild(a),o.appendChild(c),t.appendChild(o)}if(e.notes){let o=p("p",{className:"item-notes"});o.textContent=e.notes,t.appendChild(o)}return t}formatSlotName(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}};function b(s){return Array.isArray?Array.isArray(s):we(s)==="[object Array]"}var Le=1/0;function Ie(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-Le?"-0":e}function Ne(s){return s==null?"":Ie(s)}function B(s){return typeof s=="string"}function Be(s){return typeof s=="number"}function _e(s){return s===!0||s===!1||Re(s)&&we(s)=="[object Boolean]"}function De(s){return typeof s=="object"}function Re(s){return De(s)&&s!==null}function v(s){return s!=null}function ee(s){return!s.trim().length}function we(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}var Te="Incorrect 'index' type",Oe=s=>`Invalid value for key ${s}`,Pe=s=>`Pattern length exceeds max of ${s}.`,$e=s=>`Missing ${s} property in key`,We=s=>`Property 'weight' in key '${s}' must be a positive integer`,Ae=Object.prototype.hasOwnProperty,te=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(i=>{let n=be(i);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(i=>{i.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function be(s){let e=null,t=null,i=null,n=1,r=null;if(B(s)||b(s))i=s,e=ve(s),t=se(s);else{if(!Ae.call(s,"name"))throw new Error($e("name"));let o=s.name;if(i=o,Ae.call(s,"weight")&&(n=s.weight,n<=0))throw new Error(We(o));e=ve(o),t=se(o),r=s.getFn}return{path:e,id:t,weight:n,src:i,getFn:r}}function ve(s){return b(s)?s:s.split(".")}function se(s){return b(s)?s.join("."):s}function ze(s,e){let t=[],i=!1,n=(r,o,a)=>{if(v(r))if(!o[a])t.push(r);else{let c=o[a],l=r[c];if(!v(l))return;if(a===o.length-1&&(B(l)||Be(l)||_e(l)))t.push(Ne(l));else if(b(l)){i=!0;for(let u=0,d=l.length;u<d;u+=1)n(l[u],o,a+1)}else o.length&&n(l,o,a+1)}};return n(s,B(e)?e.split("."):e,0),i?t:t[0]}var je={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},He={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},Ge={location:0,threshold:.6,distance:100},Ke={useExtendedSearch:!1,getFn:ze,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},h={...He,...je,...Ge,...Ke},Ve=/[^ ]+/g;function Ue(s=1,e=3){let t=new Map,i=Math.pow(10,e);return{get(n){let r=n.match(Ve).length;if(t.has(r))return t.get(r);let o=1/Math.pow(r,.5*s),a=parseFloat(Math.round(o*i)/i);return t.set(r,a),a},clear(){t.clear()}}}var R=class{constructor({getFn:e=h.getFn,fieldNormWeight:t=h.fieldNormWeight}={}){this.norm=Ue(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,B(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();B(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!v(e)||ee(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((n,r)=>{let o=n.getFn?n.getFn(e):this.getFn(e,n.path);if(v(o)){if(b(o)){let a=[],c=[{nestedArrIndex:-1,value:o}];for(;c.length;){let{nestedArrIndex:l,value:u}=c.pop();if(v(u))if(B(u)&&!ee(u)){let d={v:u,i:l,n:this.norm.get(u)};a.push(d)}else b(u)&&u.forEach((d,g)=>{c.push({nestedArrIndex:g,value:d})})}i.$[r]=a}else if(B(o)&&!ee(o)){let a={v:o,n:this.norm.get(o)};i.$[r]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}};function ke(s,e,{getFn:t=h.getFn,fieldNormWeight:i=h.fieldNormWeight}={}){let n=new R({getFn:t,fieldNormWeight:i});return n.setKeys(s.map(be)),n.setSources(e),n.create(),n}function qe(s,{getFn:e=h.getFn,fieldNormWeight:t=h.fieldNormWeight}={}){let{keys:i,records:n}=s,r=new R({getFn:e,fieldNormWeight:t});return r.setKeys(i),r.setIndexRecords(n),r}function G(s,{errors:e=0,currentLocation:t=0,expectedLocation:i=0,distance:n=h.distance,ignoreLocation:r=h.ignoreLocation}={}){let o=e/s.length;if(r)return o;let a=Math.abs(i-t);return n?o+a/n:a?1:o}function Ye(s=[],e=h.minMatchCharLength){let t=[],i=-1,n=-1,r=0;for(let o=s.length;r<o;r+=1){let a=s[r];a&&i===-1?i=r:!a&&i!==-1&&(n=r-1,n-i+1>=e&&t.push([i,n]),i=-1)}return s[r-1]&&r-i>=e&&t.push([i,r-1]),t}var I=32;function Xe(s,e,t,{location:i=h.location,distance:n=h.distance,threshold:r=h.threshold,findAllMatches:o=h.findAllMatches,minMatchCharLength:a=h.minMatchCharLength,includeMatches:c=h.includeMatches,ignoreLocation:l=h.ignoreLocation}={}){if(e.length>I)throw new Error(Pe(I));let u=e.length,d=s.length,g=Math.max(0,Math.min(i,d)),m=r,f=g,y=a>1||c,E=y?Array(d):[],x;for(;(x=s.indexOf(e,f))>-1;){let C=G(e,{currentLocation:x,expectedLocation:g,distance:n,ignoreLocation:l});if(m=Math.min(C,m),f=x+u,y){let M=0;for(;M<u;)E[x+M]=1,M+=1}}f=-1;let w=[],N=1,L=u+d,Fe=1<<u-1;for(let C=0;C<u;C+=1){let M=0,F=L;for(;M<F;)G(e,{errors:C,currentLocation:g+F,expectedLocation:g,distance:n,ignoreLocation:l})<=m?M=F:L=F,F=Math.floor((L-M)/2+M);L=F;let pe=Math.max(1,g-F+1),Z=o?d:Math.min(g+F,d)+u,_=Array(Z+2);_[Z+1]=(1<<C)-1;for(let S=Z;S>=pe;S-=1){let T=S-1,fe=t[s.charAt(T)];if(y&&(E[T]=+!!fe),_[S]=(_[S+1]<<1|1)&fe,C&&(_[S]|=(w[S+1]|w[S])<<1|1|w[S+1]),_[S]&Fe&&(N=G(e,{errors:C,currentLocation:T,expectedLocation:g,distance:n,ignoreLocation:l}),N<=m)){if(m=N,f=T,f<=g)break;pe=Math.max(1,2*g-f)}}if(G(e,{errors:C+1,currentLocation:g,expectedLocation:g,distance:n,ignoreLocation:l})>m)break;w=_}let Q={isMatch:f>=0,score:Math.max(.001,N)};if(y){let C=Ye(E,a);C.length?c&&(Q.indices=C):Q.isMatch=!1}return Q}function Je(s){let e={};for(let t=0,i=s.length;t<i;t+=1){let n=s.charAt(t);e[n]=(e[n]||0)|1<<i-t-1}return e}var K=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s),V=class{constructor(e,{location:t=h.location,threshold:i=h.threshold,distance:n=h.distance,includeMatches:r=h.includeMatches,findAllMatches:o=h.findAllMatches,minMatchCharLength:a=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreDiacritics:l=h.ignoreDiacritics,ignoreLocation:u=h.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:n,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:u},e=c?e:e.toLowerCase(),e=l?K(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;let d=(m,f)=>{this.chunks.push({pattern:m,alphabet:Je(m),startIndex:f})},g=this.pattern.length;if(g>I){let m=0,f=g%I,y=g-f;for(;m<y;)d(this.pattern.substr(m,I),m),m+=I;if(f){let E=g-I;d(this.pattern.substr(E),E)}}else d(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,ignoreDiacritics:i,includeMatches:n}=this.options;if(e=t?e:e.toLowerCase(),e=i?K(e):e,this.pattern===e){let y={isMatch:!0,score:0};return n&&(y.indices=[[0,e.length-1]]),y}let{location:r,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:l,ignoreLocation:u}=this.options,d=[],g=0,m=!1;this.chunks.forEach(({pattern:y,alphabet:E,startIndex:x})=>{let{isMatch:w,score:N,indices:L}=Xe(e,y,E,{location:r+x,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:l,includeMatches:n,ignoreLocation:u});w&&(m=!0),g+=N,w&&L&&(d=[...d,...L])});let f={isMatch:m,score:m?g/this.chunks.length:1};return m&&n&&(f.indices=d),f}},D=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Ce(e,this.multiRegex)}static isSingleMatch(e){return Ce(e,this.singleRegex)}search(){}};function Ce(s,e){let t=s.match(e);return t?t[1]:null}var ie=class extends D{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ne=class extends D{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}},re=class extends D{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},oe=class extends D{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},ae=class extends D{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},ce=class extends D{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},U=class extends D{constructor(e,{location:t=h.location,threshold:i=h.threshold,distance:n=h.distance,includeMatches:r=h.includeMatches,findAllMatches:o=h.findAllMatches,minMatchCharLength:a=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreDiacritics:l=h.ignoreDiacritics,ignoreLocation:u=h.ignoreLocation}={}){super(e),this._bitapSearch=new V(e,{location:t,threshold:i,distance:n,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},q=class extends D{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,i,n=[],r=this.pattern.length;for(;(i=e.indexOf(this.pattern,t))>-1;)t=i+r,n.push([i,t-1]);let o=!!n.length;return{isMatch:o,score:o?0:1,indices:n}}},le=[ie,q,re,oe,ce,ae,ne,U],Ee=le.length,Qe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ze="|";function et(s,e={}){return s.split(Ze).map(t=>{let i=t.trim().split(Qe).filter(r=>r&&!!r.trim()),n=[];for(let r=0,o=i.length;r<o;r+=1){let a=i[r],c=!1,l=-1;for(;!c&&++l<Ee;){let u=le[l],d=u.isMultiMatch(a);d&&(n.push(new u(d,e)),c=!0)}if(!c)for(l=-1;++l<Ee;){let u=le[l],d=u.isSingleMatch(a);if(d){n.push(new u(d,e));break}}}return n})}var tt=new Set([U.type,q.type]),ue=class{constructor(e,{isCaseSensitive:t=h.isCaseSensitive,ignoreDiacritics:i=h.ignoreDiacritics,includeMatches:n=h.includeMatches,minMatchCharLength:r=h.minMatchCharLength,ignoreLocation:o=h.ignoreLocation,findAllMatches:a=h.findAllMatches,location:c=h.location,threshold:l=h.threshold,distance:u=h.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:i,includeMatches:n,minMatchCharLength:r,findAllMatches:a,ignoreLocation:o,location:c,threshold:l,distance:u},e=t?e:e.toLowerCase(),e=i?K(e):e,this.pattern=e,this.query=et(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:i,isCaseSensitive:n,ignoreDiacritics:r}=this.options;e=n?e:e.toLowerCase(),e=r?K(e):e;let o=0,a=[],c=0;for(let l=0,u=t.length;l<u;l+=1){let d=t[l];a.length=0,o=0;for(let g=0,m=d.length;g<m;g+=1){let f=d[g],{isMatch:y,indices:E,score:x}=f.search(e);if(y){if(o+=1,c+=x,i){let w=f.constructor.type;tt.has(w)?a=[...a,...E]:a.push(E)}}else{c=0,o=0,a.length=0;break}}if(o){let g={isMatch:!0,score:c/o};return i&&(g.indices=a),g}}return{isMatch:!1,score:1}}},he=[];function st(...s){he.push(...s)}function de(s,e){for(let t=0,i=he.length;t<i;t+=1){let n=he[t];if(n.condition(s,e))return new n(s,e)}return new V(s,e)}var Y={AND:"$and",OR:"$or"},ge={PATH:"$path",PATTERN:"$val"},me=s=>!!(s[Y.AND]||s[Y.OR]),it=s=>!!s[ge.PATH],nt=s=>!b(s)&&De(s)&&!me(s),Se=s=>({[Y.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function xe(s,e,{auto:t=!0}={}){let i=n=>{let r=Object.keys(n),o=it(n);if(!o&&r.length>1&&!me(n))return i(Se(n));if(nt(n)){let c=o?n[ge.PATH]:r[0],l=o?n[ge.PATTERN]:n[c];if(!B(l))throw new Error(Oe(c));let u={keyId:se(c),pattern:l};return t&&(u.searcher=de(l,e)),u}let a={children:[],operator:r[0]};return r.forEach(c=>{let l=n[c];b(l)&&l.forEach(u=>{a.children.push(i(u))})}),a};return me(s)||(s=Se(s)),i(s)}function rt(s,{ignoreFieldNorm:e=h.ignoreFieldNorm}){s.forEach(t=>{let i=1;t.matches.forEach(({key:n,norm:r,score:o})=>{let a=n?n.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:r))}),t.score=i})}function ot(s,e){let t=s.matches;e.matches=[],v(t)&&t.forEach(i=>{if(!v(i.indices)||!i.indices.length)return;let{indices:n,value:r}=i,o={indices:n,value:r};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function at(s,e){e.score=s.score}function ct(s,e,{includeMatches:t=h.includeMatches,includeScore:i=h.includeScore}={}){let n=[];return t&&n.push(ot),i&&n.push(at),s.map(r=>{let{idx:o}=r,a={item:e[o],refIndex:o};return n.length&&n.forEach(c=>{c(r,a)}),a})}var k=class{constructor(e,t={},i){this.options={...h,...t},this.options.useExtendedSearch,this._keyStore=new te(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof R))throw new Error(Te);this._myIndex=t||ke(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let i=0,n=this._docs.length;i<n;i+=1){let r=this._docs[i];e(r,i)&&(this.removeAt(i),i-=1,n-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:i,includeScore:n,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options,c=B(e)?B(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return rt(c,{ignoreFieldNorm:a}),r&&c.sort(o),Be(t)&&t>-1&&(c=c.slice(0,t)),ct(c,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(e){let t=de(e,this.options),{records:i}=this._myIndex,n=[];return i.forEach(({v:r,i:o,n:a})=>{if(!v(r))return;let{isMatch:c,score:l,indices:u}=t.searchIn(r);c&&n.push({item:r,idx:o,matches:[{score:l,value:r,norm:a,indices:u}]})}),n}_searchLogical(e){let t=xe(e,this.options),i=(a,c,l)=>{if(!a.children){let{keyId:d,searcher:g}=a,m=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:g});return m&&m.length?[{idx:l,item:c,matches:m}]:[]}let u=[];for(let d=0,g=a.children.length;d<g;d+=1){let m=a.children[d],f=i(m,c,l);if(f.length)u.push(...f);else if(a.operator===Y.AND)return[]}return u},n=this._myIndex.records,r={},o=[];return n.forEach(({$:a,i:c})=>{if(v(a)){let l=i(t,a,c);l.length&&(r[c]||(r[c]={idx:c,item:a,matches:[]},o.push(r[c])),l.forEach(({matches:u})=>{r[c].matches.push(...u)}))}}),o}_searchObjectList(e){let t=de(e,this.options),{keys:i,records:n}=this._myIndex,r=[];return n.forEach(({$:o,i:a})=>{if(!v(o))return;let c=[];i.forEach((l,u)=>{c.push(...this._findMatches({key:l,value:o[u],searcher:t}))}),c.length&&r.push({idx:a,item:o,matches:c})}),r}_findMatches({key:e,value:t,searcher:i}){if(!v(t))return[];let n=[];if(b(t))t.forEach(({v:r,i:o,n:a})=>{if(!v(r))return;let{isMatch:c,score:l,indices:u}=i.searchIn(r);c&&n.push({score:l,key:e,value:r,idx:o,norm:a,indices:u})});else{let{v:r,n:o}=t,{isMatch:a,score:c,indices:l}=i.searchIn(r);a&&n.push({score:c,key:e,value:r,norm:o,indices:l})}return n}};k.version="7.1.0";k.createIndex=ke;k.parseIndex=qe;k.config=h;k.parseQuery=xe;st(ue);var Me=[{id:"overview",title:"Build Overview",content:"Blood Wave Necromancer is a powerful endgame build focusing on the Blood Wave skill. This guide covers gear, skills, and playstyle.",tags:["overview","introduction","blood wave","necromancer"]},{id:"skills",title:"Skills & Skill Tree",content:"Core skills include Blood Wave, Corpse Explosion, and Blood Mist. Skill point allocation for maximum damage and survivability.",tags:["skills","skill tree","blood wave","corpse explosion","blood mist"]},{id:"gear",title:"Gear & Aspects",content:"Best in slot gear includes Howl from Below, Blood Artisan's Cuirass, and various legendary aspects for damage and defense.",tags:["gear","equipment","aspects","legendary","unique"]},{id:"paragon",title:"Paragon Board",content:"Paragon board pathing for Blood Wave Necromancer. Focus on glyphs like Blood-drinker and Territorial.",tags:["paragon","glyphs","endgame","progression"]},{id:"gameplay",title:"Gameplay & Rotation",content:"Combat rotation starts with generating corpses, then casting Blood Wave through enemies. Use Blood Mist for survivability.",tags:["gameplay","rotation","combat","playstyle"]},{id:"stats",title:"Stat Priorities",content:"Priority stats: Critical Strike Chance, Critical Strike Damage, Vulnerable Damage, Overpower Damage, Maximum Life.",tags:["stats","affixes","priorities","damage"]},{id:"variants",title:"Build Variants",content:"Variants include speedfarming setup with more movement, and bossing setup with maximum single target damage.",tags:["variants","speedfarm","bossing","alternatives"]},{id:"tips",title:"Tips & Tricks",content:"Advanced tips for playing Blood Wave Necromancer effectively. Positioning, timing, and resource management.",tags:["tips","tricks","advanced","guide"]}];var X=class{constructor(){this.overlay=null,this.input=null,this.results=null,this.fuse=null,this.isOpen=!1,this.init()}init(){this.createOverlay(),this.setupFuse(),this.setupTrigger()}createOverlay(){this.overlay=p("div",{id:"search-overlay",className:"search-overlay hidden"});let e=p("div",{className:"search-container"});this.input=p("input",{type:"text",placeholder:"Search guide... (Ctrl+K)",className:"search-input","aria-label":"Search guide"}),this.input.addEventListener("input",t=>this.handleSearch(t.target.value)),this.input.addEventListener("keydown",t=>this.handleKeydown(t)),this.results=p("div",{className:"search-results"}),e.appendChild(this.input),e.appendChild(this.results),this.overlay.appendChild(e),document.body.appendChild(this.overlay),this.overlay.addEventListener("click",t=>{t.target===this.overlay&&this.close()})}setupFuse(){this.fuse=new k(Me,{keys:["title","content","tags"],threshold:.3,includeMatches:!0,minMatchCharLength:2})}setupTrigger(){let e=document.getElementById("search-trigger");e&&e.addEventListener("click",()=>this.toggle())}toggle(){this.isOpen?this.close():this.open()}open(){this.overlay.classList.remove("hidden"),this.input.focus(),this.input.value="",this.clearResults(),this.isOpen=!0,document.body.style.overflow="hidden"}close(){this.overlay.classList.add("hidden"),this.isOpen=!1,document.body.style.overflow=""}clearResults(){for(;this.results.firstChild;)this.results.removeChild(this.results.firstChild)}handleSearch(e){if(e.length<2){this.clearResults();return}let t=this.fuse.search(e);this.renderResults(t.slice(0,10))}handleKeydown(e){if(e.key==="Escape")this.close();else if(e.key==="Enter"){let t=this.results.querySelector(".search-result-item");t&&t.click()}}renderResults(e){if(this.clearResults(),e.length===0){let t=p("div",{className:"no-results"});t.textContent="No results found",this.results.appendChild(t);return}e.forEach(t=>{let i=p("div",{className:"search-result-item"});i.addEventListener("click",()=>this.navigateTo(t.item));let n=p("div",{className:"result-title"});n.textContent=t.item.title;let r=p("div",{className:"result-preview"});r.textContent=t.item.content.substring(0,100)+"...",i.appendChild(n),i.appendChild(r),this.results.appendChild(i)})}navigateTo(e){if(this.close(),e.id){let t=document.getElementById(e.id);t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),t.classList.add("highlight"),setTimeout(()=>t.classList.remove("highlight"),2e3))}}};var J=class{constructor(){this.modules={},this.init()}init(){this.modules.particles=new O,this.modules.theme=new $,this.modules.scroll=new W,this.modules.skills=new z,this.modules.calculator=new j,this.modules.gear=new H,this.modules.search=new X,this.setupEventListeners()}setupEventListeners(){document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="k"&&(e.preventDefault(),this.modules.search.toggle()),e.key==="Escape"&&(this.modules.gear.closeModal(),this.modules.search.close())})}};document.addEventListener("DOMContentLoaded",()=>{console.log("Blood Wave Guide initializing..."),window.bloodWaveGuide=new J,console.log("Blood Wave Guide initialized")});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(s=>console.log("Service Worker registered")).catch(s=>console.log("Service Worker registration failed:",s))});})();
//# sourceMappingURL=scripts.bundle.js.map
