(()=>{var v=class{constructor(){this.soundEnabled=localStorage.getItem("soundEnabled")!=="false",this.theme=localStorage.getItem("theme")||"dark",this.dyslexicFont=localStorage.getItem("dyslexicFont")==="true",this.totalPoints=71,this.usedPoints=0,this.init()}init(){this.calculateInitialPoints(),this.applyPersistedSettings(),this.createParticles(),this.setupEventListeners(),this.setupSkillCalculator(),this.setupDamageCalculator(),this.setupRotationDemo(),this.setupGearComparison(),this.setupScrollAnimations(),this.setupShareFeature(),this.setupImageFallback(),this.setupBuildPersistence(),this.updatePointsDisplay()}calculateInitialPoints(){let e=0;document.querySelectorAll(".points").forEach(t=>{e+=parseInt(t.dataset.current)||0}),this.usedPoints=e}applyPersistedSettings(){this.theme==="light"&&document.body.classList.add("light-theme"),this.dyslexicFont&&document.body.classList.add("dyslexic-font"),this.soundEnabled||document.getElementById("soundToggle")?.classList.add("muted")}createParticles(){let e=document.getElementById("particles");for(let t=0;t<20;t++){let a=document.createElement("div");a.className="particle",a.style.left=Math.random()*100+"%",a.style.animationDelay=Math.random()*15+"s",a.style.animationDuration=15+Math.random()*10+"s",e.appendChild(a)}}setupEventListeners(){let e=document.getElementById("navToggle"),t=document.getElementById("navMenu");e.addEventListener("click",()=>{t.classList.toggle("active"),this.playSound("menu")}),document.getElementById("themeSwitcher").addEventListener("click",()=>{this.toggleTheme()}),document.getElementById("fontToggle").addEventListener("click",()=>{this.toggleDyslexicFont()}),document.getElementById("soundToggle").addEventListener("click",()=>{this.toggleSound()});let a=document.getElementById("backToTop");window.addEventListener("scroll",()=>{window.scrollY>300?a.classList.add("visible"):a.classList.remove("visible"),this.updateProgressBar()}),a.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),this.playSound("click")}),document.addEventListener("click",n=>{!t.contains(n.target)&&!e.contains(n.target)&&t.classList.remove("active")}),document.querySelectorAll(".skill-slot").forEach(n=>{n.addEventListener("click",()=>{this.activateSkill(n),this.playSound("skill")})}),document.addEventListener("keydown",n=>{n.key==="Escape"&&t.classList.remove("active"),this.handleKeyboardShortcuts(n)}),[e,document.getElementById("themeSwitcher"),document.getElementById("soundToggle"),document.getElementById("shareBuild"),document.getElementById("searchToggle")].forEach(n=>{n&&n.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),n.click())})});let i=0;t.addEventListener("touchstart",n=>{i=n.changedTouches[0].screenX},{passive:!0}),t.addEventListener("touchend",n=>{let r=n.changedTouches[0].screenX;i-r>50&&t.classList.remove("active")},{passive:!0})}setupSkillCalculator(){document.querySelectorAll(".points").forEach(e=>{e.addEventListener("click",t=>{let a=parseInt(t.target.dataset.current),i=parseInt(t.target.dataset.max);a<i&&this.usedPoints<this.totalPoints&&(t.target.dataset.current=a+1,t.target.textContent=a+1+"/"+i,this.usedPoints++,this.updatePointsDisplay(),this.playSound("click"),this.highlightElement(t.target.parentElement))}),e.addEventListener("contextmenu",t=>{t.preventDefault();let a=parseInt(t.target.dataset.current),i=parseInt(t.target.dataset.max);a>0&&(t.target.dataset.current=a-1,t.target.textContent=a-1+"/"+i,this.usedPoints--,this.updatePointsDisplay(),this.playSound("click"),this.highlightElement(t.target.parentElement))})}),document.getElementById("resetSkills").addEventListener("click",()=>{this.resetSkills()})}setupDamageCalculator(){["weaponDamage","intelligence","bloodWaveRanks","tidalWaves","additiveDamage","multiplicativeDamage","shadowDamage","critChance","critDamage","vulnerableDamage","overpowerDamage","overpowerChance","doubleDamageChance"].forEach(t=>{let a=document.getElementById(t);a&&a.addEventListener("input",()=>{this.calculateDamage()})}),this.calculateDamage()}setupRotationDemo(){document.querySelectorAll(".rotation-step").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".rotation-step").forEach(t=>t.classList.remove("active")),e.classList.add("active"),this.playSound("click")})})}setupGearComparison(){document.querySelectorAll(".gear-slot").forEach(e=>{e.addEventListener("click",()=>{this.showGearComparison(e)})}),document.getElementById("closeModal").addEventListener("click",()=>{document.getElementById("gearModal").style.display="none"})}setupScrollAnimations(){let e=new IntersectionObserver(t=>{t.forEach(a=>{a.isIntersecting&&a.target.classList.add("visible")})},{threshold:.1});document.querySelectorAll(".section").forEach(t=>{e.observe(t)})}setupShareFeature(){let e=document.getElementById("shareBuild");e&&e.addEventListener("click",()=>{let t=document.getElementById("intelligence").value,a=document.getElementById("damageResult").textContent,i=`${this.usedPoints}/${this.totalPoints}`,n=`D4 Shadow Blood Wave Necro Build
-----------------------------------
Intelligence: ${t}
Est. Damage: ${a}
Skill Points: ${i}
-----------------------------------
Generated by Advanced Necro Guide`;navigator.clipboard.writeText(n).then(()=>{this.highlightElement(e);let r=e.title;e.title="Copied!",setTimeout(()=>e.title=r,2e3);let o=e.querySelector("i");o.className="fas fa-check",setTimeout(()=>o.className="fas fa-share-alt",2e3)}),this.playSound("click")})}setupImageFallback(){document.querySelectorAll("img").forEach(e=>{e.addEventListener("error",()=>{e.src="https://via.placeholder.com/64/8b0000/ffffff?text=D4",e.classList.add("image-fallback")})})}setupBuildPersistence(){let e=document.getElementById("exportBuild"),t=document.getElementById("importBuild");e&&e.addEventListener("click",()=>{try{let a={version:"1.1",stats:{weaponDamage:document.getElementById("weaponDamage").value,intelligence:document.getElementById("intelligence").value,bloodWaveRanks:document.getElementById("bloodWaveRanks").value,tidalWaves:document.getElementById("tidalWaves").value,additiveDamage:document.getElementById("additiveDamage").value,multiplicativeDamage:document.getElementById("multiplicativeDamage").value,shadowDamage:document.getElementById("shadowDamage").value,critChance:document.getElementById("critChance").value,critDamage:document.getElementById("critDamage").value,vulnerableDamage:document.getElementById("vulnerableDamage").value,overpowerDamage:document.getElementById("overpowerDamage").value,overpowerChance:document.getElementById("overpowerChance").value,doubleDamageChance:document.getElementById("doubleDamageChance").value},skills:Array.from(document.querySelectorAll(".points")).map(n=>({current:n.dataset.current}))},i=btoa(JSON.stringify(a));navigator.clipboard.writeText(i).then(()=>{this.highlightElement(e),this.showToast("Build copied to clipboard!","success")}).catch(()=>{prompt("Copy build data:",i)})}catch{this.showToast("Export failed","error")}}),t&&t.addEventListener("click",()=>{let a=prompt("Paste build data string:");if(a)try{let i=JSON.parse(atob(a));if(!i.stats||!i.skills)throw new Error("Invalid format");for(let[r,o]of Object.entries(i.stats)){let s=document.getElementById(r);s&&(s.value=o)}let n=document.querySelectorAll(".points");i.skills.forEach((r,o)=>{if(n[o]){let s=n[o].dataset.max;n[o].dataset.current=r.current,n[o].textContent=n[o].textContent.includes("KEY")?"KEY":`${r.current}/${s}`}}),this.calculateInitialPoints(),this.updatePointsDisplay(),this.calculateDamage(),this.highlightElement(t),this.showToast("Build imported!","success")}catch{this.showToast("Import failed","error")}})}showToast(e,t="info"){let a=document.createElement("div");a.className=`toast toast-${t}`,Object.assign(a.style,{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",padding:"12px 24px",borderRadius:"8px",color:"white",zIndex:"3000",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",backgroundColor:t==="success"?"#2ecc71":t==="error"?"#e74c3c":"#3498db"}),a.textContent=e,document.body.appendChild(a),setTimeout(()=>a.remove(),3e3)}calculateDamage(){let e=parseInt(document.getElementById("weaponDamage").value)||0,t=parseInt(document.getElementById("intelligence").value)||0,a=parseInt(document.getElementById("critChance").value)||0,i=parseInt(document.getElementById("critDamage").value)||0,n=parseInt(document.getElementById("overpowerDamage").value)||0,r=parseInt(document.getElementById("overpowerChance").value)||0,o=parseInt(document.getElementById("shadowDamage").value)||0,s=parseInt(document.getElementById("vulnerableDamage").value)||0,u=parseInt(document.getElementById("additiveDamage").value)||0,p=parseInt(document.getElementById("multiplicativeDamage").value)||0,l=parseInt(document.getElementById("doubleDamageChance").value)||0,d=parseInt(document.getElementById("bloodWaveRanks").value)||1,c=parseInt(document.getElementById("tidalWaves").value)||1,h=e*(1+t/1e3),g=1+u/100,y=1+p/100,E=1+a/100*(i/100),f=1+r/100*(n/100),S=1.2*(1+s/100),k=1+o/100,I=1+(d-1)*.15,B=1+l/100,C=c,w=Math.round(h*g*y*E*f*S*k*I*B*C),D=document.getElementById("damageResult");D&&(D.textContent=w.toLocaleString());let x=`
      Base: ${Math.round(h).toLocaleString()}<br>
      Additive: x${g.toFixed(2)}<br>
      Multiplicative: x${y.toFixed(2)}<br>
      Crit (Avg): x${E.toFixed(2)}<br>
      Overpower (Avg): x${f.toFixed(2)}<br>
      Vulnerable: x${S.toFixed(2)}<br>
      Shadow: x${k.toFixed(2)}<br>
      Skill Ranks: x${I.toFixed(2)}<br>
      Double: x${B.toFixed(2)}<br>
      Waves: x${C}
    `,b=document.getElementById("damageBreakdown");b&&(b.innerHTML=x)}activateSkill(e){document.querySelectorAll(".skill-slot").forEach(a=>a.classList.remove("active")),e.classList.add("active");let t=e.dataset.skill;console.log(`Activated skill: ${t}`)}updatePointsDisplay(){document.getElementById("pointsUsed").textContent=this.usedPoints}resetSkills(){document.querySelectorAll(".points").forEach(e=>{let t=parseInt(e.dataset.max);e.dataset.current="0",e.textContent="0/"+t}),this.usedPoints=0,this.updatePointsDisplay(),this.playSound("reset")}showGearComparison(e){let t=e.dataset.gear,a=document.getElementById("gearModal"),i=document.getElementById("modalTitle"),n=document.getElementById("modalContent"),o={helmet:{primary:"Heir of Perdition (Mythic)",primaryStats:["+Crit Strike Chance","+Lucky Hit Chance","+Damage to Afflicted Enemies"],alternative:"Aspect of the Cursed Aura",alternativeStats:["+Max Life","+Cooldown Reduction","+Intelligence"],tempering:"Total Armor, Shadow Resistance"},chest:{primary:"Shroud of False Death (Mythic)",primaryStats:["+1 All Passives","+All Stats","+Max Life"],alternative:"Aspect of Hardened Bones",alternativeStats:["+Damage Reduction","+Max Life","+Armor"],tempering:"Corpse Tendrils Size, Maximum Life"},gloves:{primary:"Sacrificial Aspect",primaryStats:["+55% Sacrifice Bonuses","+Attack Speed","+Crit Strike Chance"],alternative:"Cruor's Embrace (Unique)",alternativeStats:["+Blood Surge Ranks","+Attack Speed","+Crit Strike Chance"],tempering:"Blood Overpower Damage %"},pants:{primary:"Kessime's Legacy (Unique)",primaryStats:["+Blood Wave Dual Waves","+Intelligence","+Max Life"],alternative:"Tibault's Will (Unique)",alternativeStats:["+Damage while Unstoppable","+Max Resource","+Damage Reduction"],tempering:"None (Unique Item)"},boots:{primary:"Aspect of Metamorphosis",primaryStats:["+Movement Speed","+All Stats","+Resistances"],alternative:"Aspect of Slaughter",alternativeStats:["+Movement Speed","+Max Life","+Resistances"],tempering:"Movement Speed, Dodge Chance"},weapon:{primary:"Tidal Aspect (2H Weapon)",primaryStats:["+3 Blood Waves","+200% Wave Damage","+Intelligence"],alternative:"Bloodless Scream (Unique Scythe)",alternativeStats:["+Shadow Damage to Frozen","+Essence on Chill","+Darkness Damage"],tempering:"Blood Wave Double Damage Chance, Critical Strike Damage"},amulet:{primary:"Aspect of Grasping Veins",primaryStats:["+38% Crit Chance","+75% Crit Damage","+Cooldown Reduction"],alternative:"Banished Lord's Talisman (Unique)",alternativeStats:["+Overpower Multiplier","+Crit Strike Chance","+Resource Generation"],tempering:"Ultimate Cooldown Reduction %, Movement Speed"},ring1:{primary:"Fastblood Aspect",primaryStats:["+Ultimate CD Reduction on Blood Orb","+Crit Strike Chance","+Attack Speed"],alternative:"Ring of Starless Skies (Mythic)",alternativeStats:["+Resource Cost Reduction","+Damage Multiplier","+Attack Speed"],tempering:"Ultimate Cooldown Reduction %, Resource Generation"},ring2:{primary:"Aspect of Ultimate Shadow",primaryStats:["+Blood Wave is Darkness","+Shadow DoT","+Crit Strike Chance"],alternative:"Ring of the Sacrilegious Soul (Unique)",alternativeStats:["+Auto-cast Corpse Skills","+Lucky Hit Chance","+Crit Strike Chance"],tempering:"Ultimate Cooldown Reduction %, Resource Generation"}}[t]||{primary:"Highly Optimized Piece",primaryStats:["Best in Slot stats"],alternative:"Solid Alternative",alternativeStats:["Budget stats"],tempering:"Recommended Tempers"};i.textContent=`${t.charAt(0).toUpperCase()+t.slice(1)} Comparison`;let s='<div class="modal-comparison-grid">';s+='<div class="comparison-card primary">',s+='<h4 style="color: var(--gold); margin-bottom: 10px;"><i class="fas fa-star"></i> Primary Choice</h4>',s+=`<div class="item-name">${o.primary}</div>`,s+=`<ul>${o.primaryStats.map(u=>`<li>${u}</li>`).join("")}</ul>`,s+="</div>",s+='<div class="comparison-card alternative">',s+='<h4 style="color: var(--orange); margin-bottom: 10px;"><i class="fas fa-exchange-alt"></i> Alternative</h4>',s+=`<div class="item-name">${o.alternative}</div>`,s+=`<ul>${o.alternativeStats.map(u=>`<li>${u}</li>`).join("")}</ul>`,s+="</div>",s+="</div>",s+='<div class="tempering-box">',s+=`<strong><i class="fas fa-hammer"></i> Recommended Tempering:</strong> ${o.tempering}`,s+="</div>",n.innerHTML=s,a.style.display="block",this.playSound("click"),this.highlightElement(e)}highlightElement(e){e.classList.add("highlight-glow"),setTimeout(()=>e.classList.remove("highlight-glow"),500)}toggleTheme(){this.theme=this.theme==="dark"?"light":"dark",document.body.classList.toggle("light-theme");let e=document.querySelector("#themeSwitcher i");e.className=this.theme==="dark"?"fas fa-moon":"fas fa-sun",localStorage.setItem("theme",this.theme)}toggleDyslexicFont(){this.dyslexicFont=!this.dyslexicFont,document.body.classList.toggle("dyslexic-font"),localStorage.setItem("dyslexicFont",this.dyslexicFont),this.playSound("click")}toggleSound(){this.soundEnabled=!this.soundEnabled;let e=document.getElementById("soundToggle"),t=e.querySelector("i");this.soundEnabled?(e.classList.remove("muted"),t.className="fas fa-volume-up"):(e.classList.add("muted"),t.className="fas fa-volume-mute"),localStorage.setItem("soundEnabled",this.soundEnabled)}playSound(e){this.soundEnabled&&console.log(`Playing sound: ${e}`)}handleKeyboardShortcuts(e){if(e.key>="1"&&e.key<="4"){let t=document.querySelectorAll(".skill-slot"),a=parseInt(e.key)-1;t[a]&&this.activateSkill(t[a])}}updateProgressBar(){let e=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;document.getElementById("progressBar").style.width=e+"%"}};document.addEventListener("DOMContentLoaded",()=>{new v});document.querySelectorAll(".variant-tab").forEach(m=>{m.addEventListener("click",()=>{let e=m.dataset.variant;document.querySelectorAll(".variant-tab").forEach(t=>t.classList.remove("active")),m.classList.add("active"),document.querySelectorAll(".variant-content").forEach(t=>{t.classList.remove("active"),t.dataset.variant===e&&t.classList.add("active")})})});console.log(`
        [Blood Wave] Advanced Shadow Blood Wave Necromancer Guide Loaded!

        Built for Season 11 - Divine Intervention
        Features: Interactive calculators, skill tracking, damage simulation

        Controls:
        - Click skills to activate
        - Use number keys 1-4 for quick skill selection
        - ESC to close menus
        - Click gear for comparisons

        May Rathma's power flow through you!
        `);(function(){let m=document.getElementById("searchToggle"),e=document.getElementById("searchOverlay"),t=document.getElementById("searchInput"),a=document.getElementById("searchResults"),i=[{title:"Sanctification",section:"sanctification",content:"Season 11 Sanctification system divine blessings"},{title:"Build Variants",section:"variants",content:"Pit pushing farming speed variants"},{title:"Skills & Keybinds",section:"skills",content:"Blood Wave Corpse Explosion Decrepify Blood Mist skills rotation"},{title:"Skill Tree",section:"skilltree",content:"Passive skills talent points allocation"},{title:"Book of the Dead",section:"bookofthedead",content:"Skeletal warriors mages golem minions"},{title:"Paragon Boards",section:"paragon",content:"Glyphs rare nodes legendary boards"},{title:"Gear & Aspects",section:"gear",content:"Helm chest gloves pants boots weapons aspects uniques"},{title:"Stats Priority",section:"stats",content:"Critical strike damage cooldown reduction stats affixes"},{title:"Gameplay Rotation",section:"rotation",content:"Combat rotation opener single target AoE"},{title:"Gems & Runewords",section:"gems",content:"Ruby sapphire emerald diamond skull runewords"},{title:"Mercenary Setup",section:"mercenary",content:"Mercenary hireling companion support"},{title:"Divine Gifts",section:"divinegifts",content:"Divine gifts blessings season mechanic"},{title:"Damage Calculator",section:"calculator",content:"Calculate damage DPS simulator"}],n=new Fuse(i,{keys:["title","content"],threshold:.4,includeMatches:!0});function r(){e.classList.add("active"),t.focus(),t.value="",s()}function o(){e.classList.remove("active")}function s(){for(;a.firstChild;)a.removeChild(a.firstChild)}function u(l){let d=document.createElement("div");d.className="search-result-item",d.dataset.section=l.section;let c=document.createElement("div");c.className="title";let h=document.createElement("i");h.className="fas fa-arrow-right",c.appendChild(h),c.appendChild(document.createTextNode(" "+l.title));let g=document.createElement("div");return g.className="context",g.textContent=l.content,d.appendChild(c),d.appendChild(g),d.addEventListener("click",()=>{o(),document.getElementById(l.section)?.scrollIntoView({behavior:"smooth"})}),d}function p(l){if(s(),!l.trim())return;let d=n.search(l);if(d.length===0){let c=document.createElement("div");c.className="search-no-results",c.textContent="No results found",a.appendChild(c);return}d.slice(0,8).forEach(c=>{a.appendChild(u(c.item))})}m.addEventListener("click",r),e.addEventListener("click",l=>{l.target===e&&o()}),t.addEventListener("input",l=>p(l.target.value)),document.addEventListener("keydown",l=>{(l.ctrlKey||l.metaKey)&&l.key==="k"&&(l.preventDefault(),r()),l.key==="Escape"&&o()})})();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(m=>console.log("SW registered:",m.scope)).catch(m=>console.log("SW registration failed:",m))});})();
//# sourceMappingURL=scripts.bundle.js.map
