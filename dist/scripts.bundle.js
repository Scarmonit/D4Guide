(()=>{var P=class{constructor(e="particles",t=20){this.container=document.getElementById(e),this.count=t}init(){this.container&&this.createParticles()}createParticles(){for(let e=0;e<this.count;e++){let t=document.createElement("div");t.className="particle",t.style.left=Math.random()*100+"%",t.style.animationDelay=Math.random()*15+"s",t.style.animationDuration=15+Math.random()*10+"s",this.container.appendChild(t)}}clear(){if(this.container)for(;this.container.firstChild;)this.container.removeChild(this.container.firstChild)}};function O(n,e=null){try{let t=localStorage.getItem(n);return t!==null?t:e}catch{return e}}function W(n,e){try{return localStorage.setItem(n,e),!0}catch{return!1}}function ye(n,e=!1){let t=O(n);return t===null?e:t==="true"}function ve(n,e){return W(n,String(e))}var V=class{constructor(){this.theme=O("theme","dark"),this.dyslexicFont=ye("dyslexicFont",!1),this.soundEnabled=O("soundEnabled")!=="false"}init(){this.applyPersistedSettings(),this.setupEventListeners()}applyPersistedSettings(){if(this.theme==="light"&&document.body.classList.add("light-theme"),this.dyslexicFont&&document.body.classList.add("dyslexic-font"),!this.soundEnabled){let e=document.getElementById("soundToggle");e&&e.classList.add("muted")}}setupEventListeners(){let e=document.getElementById("themeSwitcher"),t=document.getElementById("fontToggle"),s=document.getElementById("soundToggle");e&&e.addEventListener("click",()=>this.toggleTheme()),t&&t.addEventListener("click",()=>this.toggleDyslexicFont()),s&&s.addEventListener("click",()=>this.toggleSound())}toggleTheme(){this.theme=this.theme==="dark"?"light":"dark",document.body.classList.toggle("light-theme");let e=document.querySelector("#themeSwitcher i");e&&(e.className=this.theme==="dark"?"fas fa-moon":"fas fa-sun"),W("theme",this.theme)}toggleDyslexicFont(){this.dyslexicFont=!this.dyslexicFont,document.body.classList.toggle("dyslexic-font"),ve("dyslexicFont",this.dyslexicFont),this.playSound("click")}toggleSound(){this.soundEnabled=!this.soundEnabled;let e=document.getElementById("soundToggle");if(!e)return;let t=e.querySelector("i");this.soundEnabled?(e.classList.remove("muted"),t&&(t.className="fas fa-volume-up")):(e.classList.add("muted"),t&&(t.className="fas fa-volume-mute")),W("soundEnabled",this.soundEnabled)}playSound(e){this.soundEnabled&&console.log(`Playing sound: ${e}`)}isSoundEnabled(){return this.soundEnabled}};var U=class{constructor(e=()=>{}){this.playSound=e,this.observer=null}init(){this.setupScrollAnimations(),this.setupBackToTop(),this.setupProgressBar()}setupScrollAnimations(){this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("visible")})},{threshold:.1}),document.querySelectorAll(".section").forEach(e=>{this.observer.observe(e)})}setupBackToTop(){let e=document.getElementById("backToTop");e&&(window.addEventListener("scroll",()=>{window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible"),this.updateProgressBar()}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),this.playSound("click")}))}setupProgressBar(){this.updateProgressBar()}updateProgressBar(){let e=document.getElementById("progressBar");if(!e)return;let t=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;e.style.width=t+"%"}destroy(){this.observer&&this.observer.disconnect()}};function L(n){n.classList.add("highlight-glow"),setTimeout(()=>n.classList.remove("highlight-glow"),500)}var j=class{constructor(e=()=>{}){this.playSound=e,this.totalPoints=71,this.usedPoints=0}init(){this.calculateInitialPoints(),this.setupSkillCalculator(),this.setupSkillBar(),this.setupRotationDemo(),this.updatePointsDisplay()}calculateInitialPoints(){let e=0;document.querySelectorAll(".points").forEach(t=>{e+=parseInt(t.dataset.current)||0}),this.usedPoints=e}setupSkillCalculator(){document.querySelectorAll(".points").forEach(t=>{t.addEventListener("click",s=>{let i=parseInt(s.target.dataset.current),r=parseInt(s.target.dataset.max);i<r&&this.usedPoints<this.totalPoints&&(s.target.dataset.current=i+1,s.target.textContent=i+1+"/"+r,this.usedPoints++,this.updatePointsDisplay(),this.playSound("click"),L(s.target.parentElement))}),t.addEventListener("contextmenu",s=>{s.preventDefault();let i=parseInt(s.target.dataset.current),r=parseInt(s.target.dataset.max);i>0&&(s.target.dataset.current=i-1,s.target.textContent=i-1+"/"+r,this.usedPoints--,this.updatePointsDisplay(),this.playSound("click"),L(s.target.parentElement))})});let e=document.getElementById("resetSkills");e&&e.addEventListener("click",()=>this.resetSkills())}setupSkillBar(){document.querySelectorAll(".skill-slot").forEach(e=>{e.addEventListener("click",()=>{this.activateSkill(e),this.playSound("skill")})})}setupRotationDemo(){document.querySelectorAll(".rotation-step").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".rotation-step").forEach(t=>t.classList.remove("active")),e.classList.add("active"),this.playSound("click")})})}activateSkill(e){document.querySelectorAll(".skill-slot").forEach(s=>s.classList.remove("active")),e.classList.add("active");let t=e.dataset.skill;console.log(`Activated skill: ${t}`)}updatePointsDisplay(){let e=document.getElementById("pointsUsed");e&&(e.textContent=this.usedPoints)}resetSkills(){document.querySelectorAll(".points").forEach(e=>{let t=parseInt(e.dataset.max);e.dataset.current="0",e.textContent="0/"+t}),this.usedPoints=0,this.updatePointsDisplay(),this.playSound("reset")}getUsedPoints(){return this.usedPoints}getTotalPoints(){return this.totalPoints}};var G=class{constructor(){this.inputs=["weaponDamage","intelligence","bloodWaveRanks","tidalWaves","additiveDamage","multiplicativeDamage","shadowDamage","critChance","critDamage","vulnerableDamage","overpowerDamage","overpowerChance","doubleDamageChance"]}init(){this.setupInputListeners(),this.calculate()}setupInputListeners(){this.inputs.forEach(e=>{let t=document.getElementById(e);t&&t.addEventListener("input",()=>this.calculate())})}getValue(e){let t=document.getElementById(e);return parseInt(t?.value)||0}calculate(){let e=this.getValue("weaponDamage"),t=this.getValue("intelligence"),s=this.getValue("critChance"),i=this.getValue("critDamage"),r=this.getValue("overpowerDamage"),o=this.getValue("overpowerChance"),a=this.getValue("shadowDamage"),c=this.getValue("vulnerableDamage"),l=this.getValue("additiveDamage"),u=this.getValue("multiplicativeDamage"),d=this.getValue("doubleDamageChance"),m=this.getValue("bloodWaveRanks")||1,g=this.getValue("tidalWaves")||1,p=e*(1+t/1e3),f=1+l/100,y=1+u/100,A=1+s/100*(i/100),C=1+o/100*(r/100),w=1.2*(1+c/100),D=1+a/100,N=1+(m-1)*.15,R=1+d/100,E=g,S=Math.round(p*f*y*A*C*w*D*N*R*E);return this.displayResult(S),this.displayBreakdown({baseDamage:p,additiveMultiplier:f,multiMultiplier:y,critMultiplier:A,overpowerMultiplier:C,vulnerableMultiplier:w,shadowMultiplier:D,rankMultiplier:N,doubleMultiplier:R,waveMultiplier:E}),S}displayResult(e){let t=document.getElementById("damageResult");t&&(t.textContent=e.toLocaleString())}displayBreakdown(e){let t=document.getElementById("damageBreakdown");if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);[`Base: ${Math.round(e.baseDamage).toLocaleString()}`,`Additive: x${e.additiveMultiplier.toFixed(2)}`,`Multiplicative: x${e.multiMultiplier.toFixed(2)}`,`Crit (Avg): x${e.critMultiplier.toFixed(2)}`,`Overpower (Avg): x${e.overpowerMultiplier.toFixed(2)}`,`Vulnerable: x${e.vulnerableMultiplier.toFixed(2)}`,`Shadow: x${e.shadowMultiplier.toFixed(2)}`,`Skill Ranks: x${e.rankMultiplier.toFixed(2)}`,`Double: x${e.doubleMultiplier.toFixed(2)}`,`Waves: x${e.waveMultiplier}`].forEach((i,r)=>{r>0&&t.appendChild(document.createElement("br")),t.appendChild(document.createTextNode(i))})}getResult(){return document.getElementById("damageResult")?.textContent||"0"}};var Ce={helmet:{primary:"Heir of Perdition (Mythic)",primaryStats:["+Crit Strike Chance","+Lucky Hit Chance","+Damage to Afflicted Enemies"],alternative:"Aspect of the Cursed Aura",alternativeStats:["+Max Life","+Cooldown Reduction","+Intelligence"],tempering:"Total Armor, Shadow Resistance"},chest:{primary:"Shroud of False Death (Mythic)",primaryStats:["+1 All Passives","+All Stats","+Max Life"],alternative:"Aspect of Hardened Bones",alternativeStats:["+Damage Reduction","+Max Life","+Armor"],tempering:"Corpse Tendrils Size, Maximum Life"},gloves:{primary:"Sacrificial Aspect",primaryStats:["+55% Sacrifice Bonuses","+Attack Speed","+Crit Strike Chance"],alternative:"Cruor's Embrace (Unique)",alternativeStats:["+Blood Surge Ranks","+Attack Speed","+Crit Strike Chance"],tempering:"Blood Overpower Damage %"},pants:{primary:"Kessime's Legacy (Unique)",primaryStats:["+Blood Wave Dual Waves","+Intelligence","+Max Life"],alternative:"Tibault's Will (Unique)",alternativeStats:["+Damage while Unstoppable","+Max Resource","+Damage Reduction"],tempering:"None (Unique Item)"},boots:{primary:"Aspect of Metamorphosis",primaryStats:["+Movement Speed","+All Stats","+Resistances"],alternative:"Aspect of Slaughter",alternativeStats:["+Movement Speed","+Max Life","+Resistances"],tempering:"Movement Speed, Dodge Chance"},weapon:{primary:"Tidal Aspect (2H Weapon)",primaryStats:["+3 Blood Waves","+200% Wave Damage","+Intelligence"],alternative:"Bloodless Scream (Unique Scythe)",alternativeStats:["+Shadow Damage to Frozen","+Essence on Chill","+Darkness Damage"],tempering:"Blood Wave Double Damage Chance, Critical Strike Damage"},amulet:{primary:"Aspect of Grasping Veins",primaryStats:["+38% Crit Chance","+75% Crit Damage","+Cooldown Reduction"],alternative:"Banished Lord's Talisman (Unique)",alternativeStats:["+Overpower Multiplier","+Crit Strike Chance","+Resource Generation"],tempering:"Ultimate Cooldown Reduction %, Movement Speed"},ring1:{primary:"Fastblood Aspect",primaryStats:["+Ultimate CD Reduction on Blood Orb","+Crit Strike Chance","+Attack Speed"],alternative:"Ring of Starless Skies (Mythic)",alternativeStats:["+Resource Cost Reduction","+Damage Multiplier","+Attack Speed"],tempering:"Ultimate Cooldown Reduction %, Resource Generation"},ring2:{primary:"Aspect of Ultimate Shadow",primaryStats:["+Blood Wave is Darkness","+Shadow DoT","+Crit Strike Chance"],alternative:"Ring of the Sacrilegious Soul (Unique)",alternativeStats:["+Auto-cast Corpse Skills","+Lucky Hit Chance","+Crit Strike Chance"],tempering:"Ultimate Cooldown Reduction %, Resource Generation"}},Ae={primary:"Highly Optimized Piece",primaryStats:["Best in Slot stats"],alternative:"Solid Alternative",alternativeStats:["Budget stats"],tempering:"Recommended Tempers"};var H=class{constructor(e=()=>{}){this.playSound=e,this.modal=null,this.modalTitle=null,this.modalContent=null}init(){this.modal=document.getElementById("gearModal"),this.modalTitle=document.getElementById("modalTitle"),this.modalContent=document.getElementById("modalContent"),this.setupGearSlots(),this.setupCloseButton()}setupGearSlots(){document.querySelectorAll(".gear-slot").forEach(e=>{e.addEventListener("click",()=>{this.showComparison(e)})})}setupCloseButton(){let e=document.getElementById("closeModal");e&&e.addEventListener("click",()=>this.hide())}showComparison(e){let t=e.dataset.gear,s=Ce[t]||Ae;this.modalTitle.textContent=`${t.charAt(0).toUpperCase()+t.slice(1)} Comparison`,this.renderContent(s),this.modal.style.display="block",this.playSound("click"),L(e)}renderContent(e){for(;this.modalContent.firstChild;)this.modalContent.removeChild(this.modalContent.firstChild);let t=document.createElement("div");t.className="modal-comparison-grid",t.appendChild(this.createComparisonCard("primary","Primary Choice","fa-star","var(--gold)",e.primary,e.primaryStats)),t.appendChild(this.createComparisonCard("alternative","Alternative","fa-exchange-alt","var(--orange)",e.alternative,e.alternativeStats)),this.modalContent.appendChild(t);let s=document.createElement("div");s.className="tempering-box";let i=document.createElement("strong"),r=document.createElement("i");r.className="fas fa-hammer",i.appendChild(r),i.appendChild(document.createTextNode(" Recommended Tempering: ")),s.appendChild(i),s.appendChild(document.createTextNode(e.tempering)),this.modalContent.appendChild(s)}createComparisonCard(e,t,s,i,r,o){let a=document.createElement("div");a.className=`comparison-card ${e}`;let c=document.createElement("h4");c.style.color=i,c.style.marginBottom="10px";let l=document.createElement("i");l.className=`fas ${s}`,c.appendChild(l),c.appendChild(document.createTextNode(` ${t}`)),a.appendChild(c);let u=document.createElement("div");u.className="item-name",u.textContent=r,a.appendChild(u);let d=document.createElement("ul");return o.forEach(m=>{let g=document.createElement("li");g.textContent=m,d.appendChild(g)}),a.appendChild(d),a}hide(){this.modal&&(this.modal.style.display="none")}};function M(n){return Array.isArray?Array.isArray(n):Ie(n)==="[object Array]"}var Te=1/0;function _e(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-Te?"-0":e}function Ne(n){return n==null?"":_e(n)}function k(n){return typeof n=="string"}function we(n){return typeof n=="number"}function $e(n){return n===!0||n===!1||Pe(n)&&Ie(n)=="[object Boolean]"}function Me(n){return typeof n=="object"}function Pe(n){return Me(n)&&n!==null}function v(n){return n!=null}function te(n){return!n.trim().length}function Ie(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}var Oe="Incorrect 'index' type",We=n=>`Invalid value for key ${n}`,Ve=n=>`Pattern length exceeds max of ${n}.`,Ue=n=>`Missing ${n} property in key`,je=n=>`Property 'weight' in key '${n}' must be a positive integer`,Se=Object.prototype.hasOwnProperty,se=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let i=be(s);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function be(n){let e=null,t=null,s=null,i=1,r=null;if(k(n)||M(n))s=n,e=Be(n),t=ne(n);else{if(!Se.call(n,"name"))throw new Error(Ue("name"));let o=n.name;if(s=o,Se.call(n,"weight")&&(i=n.weight,i<=0))throw new Error(je(o));e=Be(o),t=ne(o),r=n.getFn}return{path:e,id:t,weight:i,src:s,getFn:r}}function Be(n){return M(n)?n:n.split(".")}function ne(n){return M(n)?n.join("."):n}function Ge(n,e){let t=[],s=!1,i=(r,o,a)=>{if(v(r))if(!o[a])t.push(r);else{let c=o[a],l=r[c];if(!v(l))return;if(a===o.length-1&&(k(l)||we(l)||$e(l)))t.push(Ne(l));else if(M(l)){s=!0;for(let u=0,d=l.length;u<d;u+=1)i(l[u],o,a+1)}else o.length&&i(l,o,a+1)}};return i(n,k(e)?e.split("."):e,0),s?t:t[0]}var He={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ke={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},qe={location:0,threshold:.6,distance:100},ze={useExtendedSearch:!1,getFn:Ge,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},h={...Ke,...He,...qe,...ze},Xe=/[^ ]+/g;function Ye(n=1,e=3){let t=new Map,s=Math.pow(10,e);return{get(i){let r=i.match(Xe).length;if(t.has(r))return t.get(r);let o=1/Math.pow(r,.5*n),a=parseFloat(Math.round(o*s)/s);return t.set(r,a),a},clear(){t.clear()}}}var _=class{constructor({getFn:e=h.getFn,fieldNormWeight:t=h.fieldNormWeight}={}){this.norm=Ye(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,k(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();k(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!v(e)||te(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((i,r)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(v(o)){if(M(o)){let a=[],c=[{nestedArrIndex:-1,value:o}];for(;c.length;){let{nestedArrIndex:l,value:u}=c.pop();if(v(u))if(k(u)&&!te(u)){let d={v:u,i:l,n:this.norm.get(u)};a.push(d)}else M(u)&&u.forEach((d,m)=>{c.push({nestedArrIndex:m,value:d})})}s.$[r]=a}else if(k(o)&&!te(o)){let a={v:o,n:this.norm.get(o)};s.$[r]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}};function Le(n,e,{getFn:t=h.getFn,fieldNormWeight:s=h.fieldNormWeight}={}){let i=new _({getFn:t,fieldNormWeight:s});return i.setKeys(n.map(be)),i.setSources(e),i.create(),i}function Qe(n,{getFn:e=h.getFn,fieldNormWeight:t=h.fieldNormWeight}={}){let{keys:s,records:i}=n,r=new _({getFn:e,fieldNormWeight:t});return r.setKeys(s),r.setIndexRecords(i),r}function K(n,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:i=h.distance,ignoreLocation:r=h.ignoreLocation}={}){let o=e/n.length;if(r)return o;let a=Math.abs(s-t);return i?o+a/i:a?1:o}function Je(n=[],e=h.minMatchCharLength){let t=[],s=-1,i=-1,r=0;for(let o=n.length;r<o;r+=1){let a=n[r];a&&s===-1?s=r:!a&&s!==-1&&(i=r-1,i-s+1>=e&&t.push([s,i]),s=-1)}return n[r-1]&&r-s>=e&&t.push([s,r-1]),t}var F=32;function Ze(n,e,t,{location:s=h.location,distance:i=h.distance,threshold:r=h.threshold,findAllMatches:o=h.findAllMatches,minMatchCharLength:a=h.minMatchCharLength,includeMatches:c=h.includeMatches,ignoreLocation:l=h.ignoreLocation}={}){if(e.length>F)throw new Error(Ve(F));let u=e.length,d=n.length,m=Math.max(0,Math.min(s,d)),g=r,p=m,f=a>1||c,y=f?Array(d):[],A;for(;(A=n.indexOf(e,p))>-1;){let E=K(e,{currentLocation:A,expectedLocation:m,distance:i,ignoreLocation:l});if(g=Math.min(E,g),p=A+u,f){let S=0;for(;S<u;)y[A+S]=1,S+=1}}p=-1;let C=[],w=1,D=u+d,N=1<<u-1;for(let E=0;E<u;E+=1){let S=0,b=D;for(;S<b;)K(e,{errors:E,currentLocation:m+b,expectedLocation:m,distance:i,ignoreLocation:l})<=g?S=b:D=b,b=Math.floor((D-S)/2+S);D=b;let fe=Math.max(1,m-b+1),ee=o?d:Math.min(m+b,d)+u,T=Array(ee+2);T[ee+1]=(1<<E)-1;for(let B=ee;B>=fe;B-=1){let $=B-1,Ee=t[n.charAt($)];if(f&&(y[$]=+!!Ee),T[B]=(T[B+1]<<1|1)&Ee,E&&(T[B]|=(C[B+1]|C[B])<<1|1|C[B+1]),T[B]&N&&(w=K(e,{errors:E,currentLocation:$,expectedLocation:m,distance:i,ignoreLocation:l}),w<=g)){if(g=w,p=$,p<=m)break;fe=Math.max(1,2*m-p)}}if(K(e,{errors:E+1,currentLocation:m,expectedLocation:m,distance:i,ignoreLocation:l})>g)break;C=T}let R={isMatch:p>=0,score:Math.max(.001,w)};if(f){let E=Je(y,a);E.length?c&&(R.indices=E):R.isMatch=!1}return R}function et(n){let e={};for(let t=0,s=n.length;t<s;t+=1){let i=n.charAt(t);e[i]=(e[i]||0)|1<<s-t-1}return e}var q=String.prototype.normalize?(n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(n=>n),z=class{constructor(e,{location:t=h.location,threshold:s=h.threshold,distance:i=h.distance,includeMatches:r=h.includeMatches,findAllMatches:o=h.findAllMatches,minMatchCharLength:a=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreDiacritics:l=h.ignoreDiacritics,ignoreLocation:u=h.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:u},e=c?e:e.toLowerCase(),e=l?q(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;let d=(g,p)=>{this.chunks.push({pattern:g,alphabet:et(g),startIndex:p})},m=this.pattern.length;if(m>F){let g=0,p=m%F,f=m-p;for(;g<f;)d(this.pattern.substr(g,F),g),g+=F;if(p){let y=m-F;d(this.pattern.substr(y),y)}}else d(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,ignoreDiacritics:s,includeMatches:i}=this.options;if(e=t?e:e.toLowerCase(),e=s?q(e):e,this.pattern===e){let f={isMatch:!0,score:0};return i&&(f.indices=[[0,e.length-1]]),f}let{location:r,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:l,ignoreLocation:u}=this.options,d=[],m=0,g=!1;this.chunks.forEach(({pattern:f,alphabet:y,startIndex:A})=>{let{isMatch:C,score:w,indices:D}=Ze(e,f,y,{location:r+A,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:l,includeMatches:i,ignoreLocation:u});C&&(g=!0),m+=w,C&&D&&(d=[...d,...D])});let p={isMatch:g,score:g?m/this.chunks.length:1};return g&&i&&(p.indices=d),p}},x=class{constructor(e){this.pattern=e}static isMultiMatch(e){return De(e,this.multiRegex)}static isSingleMatch(e){return De(e,this.singleRegex)}search(){}};function De(n,e){let t=n.match(e);return t?t[1]:null}var ie=class extends x{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},re=class extends x{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}},oe=class extends x{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ae=class extends x{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},ce=class extends x{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},le=class extends x{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},X=class extends x{constructor(e,{location:t=h.location,threshold:s=h.threshold,distance:i=h.distance,includeMatches:r=h.includeMatches,findAllMatches:o=h.findAllMatches,minMatchCharLength:a=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreDiacritics:l=h.ignoreDiacritics,ignoreLocation:u=h.ignoreLocation}={}){super(e),this._bitapSearch=new z(e,{location:t,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Y=class extends x{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s,i=[],r=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+r,i.push([s,t-1]);let o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}},ue=[ie,Y,oe,ae,le,ce,re,X],ke=ue.length,tt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,st="|";function nt(n,e={}){return n.split(st).map(t=>{let s=t.trim().split(tt).filter(r=>r&&!!r.trim()),i=[];for(let r=0,o=s.length;r<o;r+=1){let a=s[r],c=!1,l=-1;for(;!c&&++l<ke;){let u=ue[l],d=u.isMultiMatch(a);d&&(i.push(new u(d,e)),c=!0)}if(!c)for(l=-1;++l<ke;){let u=ue[l],d=u.isSingleMatch(a);if(d){i.push(new u(d,e));break}}}return i})}var it=new Set([X.type,Y.type]),he=class{constructor(e,{isCaseSensitive:t=h.isCaseSensitive,ignoreDiacritics:s=h.ignoreDiacritics,includeMatches:i=h.includeMatches,minMatchCharLength:r=h.minMatchCharLength,ignoreLocation:o=h.ignoreLocation,findAllMatches:a=h.findAllMatches,location:c=h.location,threshold:l=h.threshold,distance:u=h.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:s,includeMatches:i,minMatchCharLength:r,findAllMatches:a,ignoreLocation:o,location:c,threshold:l,distance:u},e=t?e:e.toLowerCase(),e=s?q(e):e,this.pattern=e,this.query=nt(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:s,isCaseSensitive:i,ignoreDiacritics:r}=this.options;e=i?e:e.toLowerCase(),e=r?q(e):e;let o=0,a=[],c=0;for(let l=0,u=t.length;l<u;l+=1){let d=t[l];a.length=0,o=0;for(let m=0,g=d.length;m<g;m+=1){let p=d[m],{isMatch:f,indices:y,score:A}=p.search(e);if(f){if(o+=1,c+=A,s){let C=p.constructor.type;it.has(C)?a=[...a,...y]:a.push(y)}}else{c=0,o=0,a.length=0;break}}if(o){let m={isMatch:!0,score:c/o};return s&&(m.indices=a),m}}return{isMatch:!1,score:1}}},de=[];function rt(...n){de.push(...n)}function me(n,e){for(let t=0,s=de.length;t<s;t+=1){let i=de[t];if(i.condition(n,e))return new i(n,e)}return new z(n,e)}var Q={AND:"$and",OR:"$or"},ge={PATH:"$path",PATTERN:"$val"},pe=n=>!!(n[Q.AND]||n[Q.OR]),ot=n=>!!n[ge.PATH],at=n=>!M(n)&&Me(n)&&!pe(n),xe=n=>({[Q.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function Fe(n,e,{auto:t=!0}={}){let s=i=>{let r=Object.keys(i),o=ot(i);if(!o&&r.length>1&&!pe(i))return s(xe(i));if(at(i)){let c=o?i[ge.PATH]:r[0],l=o?i[ge.PATTERN]:i[c];if(!k(l))throw new Error(We(c));let u={keyId:ne(c),pattern:l};return t&&(u.searcher=me(l,e)),u}let a={children:[],operator:r[0]};return r.forEach(c=>{let l=i[c];M(l)&&l.forEach(u=>{a.children.push(s(u))})}),a};return pe(n)||(n=xe(n)),s(n)}function ct(n,{ignoreFieldNorm:e=h.ignoreFieldNorm}){n.forEach(t=>{let s=1;t.matches.forEach(({key:i,norm:r,score:o})=>{let a=i?i.weight:null;s*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:r))}),t.score=s})}function lt(n,e){let t=n.matches;e.matches=[],v(t)&&t.forEach(s=>{if(!v(s.indices)||!s.indices.length)return;let{indices:i,value:r}=s,o={indices:i,value:r};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),e.matches.push(o)})}function ut(n,e){e.score=n.score}function ht(n,e,{includeMatches:t=h.includeMatches,includeScore:s=h.includeScore}={}){let i=[];return t&&i.push(lt),s&&i.push(ut),n.map(r=>{let{idx:o}=r,a={item:e[o],refIndex:o};return i.length&&i.forEach(c=>{c(r,a)}),a})}var I=class{constructor(e,t={},s){this.options={...h,...t},this.options.useExtendedSearch,this._keyStore=new se(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof _))throw new Error(Oe);this._myIndex=t||Le(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let s=0,i=this._docs.length;s<i;s+=1){let r=this._docs[s];e(r,s)&&(this.removeAt(s),s-=1,i-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:s,includeScore:i,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options,c=k(e)?k(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return ct(c,{ignoreFieldNorm:a}),r&&c.sort(o),we(t)&&t>-1&&(c=c.slice(0,t)),ht(c,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(e){let t=me(e,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:r,i:o,n:a})=>{if(!v(r))return;let{isMatch:c,score:l,indices:u}=t.searchIn(r);c&&i.push({item:r,idx:o,matches:[{score:l,value:r,norm:a,indices:u}]})}),i}_searchLogical(e){let t=Fe(e,this.options),s=(a,c,l)=>{if(!a.children){let{keyId:d,searcher:m}=a,g=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:m});return g&&g.length?[{idx:l,item:c,matches:g}]:[]}let u=[];for(let d=0,m=a.children.length;d<m;d+=1){let g=a.children[d],p=s(g,c,l);if(p.length)u.push(...p);else if(a.operator===Q.AND)return[]}return u},i=this._myIndex.records,r={},o=[];return i.forEach(({$:a,i:c})=>{if(v(a)){let l=s(t,a,c);l.length&&(r[c]||(r[c]={idx:c,item:a,matches:[]},o.push(r[c])),l.forEach(({matches:u})=>{r[c].matches.push(...u)}))}}),o}_searchObjectList(e){let t=me(e,this.options),{keys:s,records:i}=this._myIndex,r=[];return i.forEach(({$:o,i:a})=>{if(!v(o))return;let c=[];s.forEach((l,u)=>{c.push(...this._findMatches({key:l,value:o[u],searcher:t}))}),c.length&&r.push({idx:a,item:o,matches:c})}),r}_findMatches({key:e,value:t,searcher:s}){if(!v(t))return[];let i=[];if(M(t))t.forEach(({v:r,i:o,n:a})=>{if(!v(r))return;let{isMatch:c,score:l,indices:u}=s.searchIn(r);c&&i.push({score:l,key:e,value:r,idx:o,norm:a,indices:u})});else{let{v:r,n:o}=t,{isMatch:a,score:c,indices:l}=s.searchIn(r);a&&i.push({score:c,key:e,value:r,norm:o,indices:l})}return i}};I.version="7.1.0";I.createIndex=Le;I.parseIndex=Qe;I.config=h;I.parseQuery=Fe;rt(he);var Re=[{title:"Sanctification",section:"sanctification",content:"Season 11 Sanctification system divine blessings"},{title:"Build Variants",section:"variants",content:"Pit pushing farming speed variants"},{title:"Skills & Keybinds",section:"skills",content:"Blood Wave Corpse Explosion Decrepify Blood Mist skills rotation"},{title:"Skill Tree",section:"skilltree",content:"Passive skills talent points allocation"},{title:"Book of the Dead",section:"bookofthedead",content:"Skeletal warriors mages golem minions"},{title:"Paragon Boards",section:"paragon",content:"Glyphs rare nodes legendary boards"},{title:"Gear & Aspects",section:"gear",content:"Helm chest gloves pants boots weapons aspects uniques"},{title:"Stats Priority",section:"stats",content:"Critical strike damage cooldown reduction stats affixes"},{title:"Gameplay Rotation",section:"rotation",content:"Combat rotation opener single target AoE"},{title:"Gems & Runewords",section:"gems",content:"Ruby sapphire emerald diamond skull runewords"},{title:"Mercenary Setup",section:"mercenary",content:"Mercenary hireling companion support"},{title:"Divine Gifts",section:"divinegifts",content:"Divine gifts blessings season mechanic"},{title:"Damage Calculator",section:"calculator",content:"Calculate damage DPS simulator"}];var J=class{constructor(){this.overlay=null,this.input=null,this.results=null,this.fuse=null}init(){this.overlay=document.getElementById("searchOverlay"),this.input=document.getElementById("searchInput"),this.results=document.getElementById("searchResults"),!(!this.overlay||!this.input||!this.results)&&(this.fuse=new I(Re,{keys:["title","content"],threshold:.4,includeMatches:!0}),this.setupEventListeners())}setupEventListeners(){let e=document.getElementById("searchToggle");e&&e.addEventListener("click",()=>this.open()),this.overlay.addEventListener("click",t=>{t.target===this.overlay&&this.close()}),this.input.addEventListener("input",t=>this.search(t.target.value)),document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="k"&&(t.preventDefault(),this.open()),t.key==="Escape"&&this.close()})}open(){this.overlay.classList.add("active"),this.input.focus(),this.input.value="",this.clearResults()}close(){this.overlay.classList.remove("active")}clearResults(){for(;this.results.firstChild;)this.results.removeChild(this.results.firstChild)}search(e){if(this.clearResults(),!e.trim())return;let t=this.fuse.search(e);if(t.length===0){let s=document.createElement("div");s.className="search-no-results",s.textContent="No results found",this.results.appendChild(s);return}t.slice(0,8).forEach(s=>{this.results.appendChild(this.createResultItem(s.item))})}createResultItem(e){let t=document.createElement("div");t.className="search-result-item",t.dataset.section=e.section;let s=document.createElement("div");s.className="title";let i=document.createElement("i");i.className="fas fa-arrow-right",s.appendChild(i),s.appendChild(document.createTextNode(" "+e.title));let r=document.createElement("div");return r.className="context",r.textContent=e.content,t.appendChild(s),t.appendChild(r),t.addEventListener("click",()=>{this.close();let o=document.getElementById(e.section);o&&o.scrollIntoView({behavior:"smooth"})}),t}};var Z=class{constructor(){this.themeManager=new V,this.particleSystem=new P,this.scrollEffects=new U(()=>this.playSound("click")),this.skillManager=new j(()=>this.playSound("click")),this.damageCalculator=new G,this.gearComparison=new H(()=>this.playSound("click")),this.searchHandler=new J}init(){this.themeManager.init(),this.particleSystem.init(),this.scrollEffects.init(),this.skillManager.init(),this.damageCalculator.init(),this.gearComparison.init(),this.searchHandler.init(),this.setupNavigation(),this.setupShareFeature(),this.setupImageFallback(),this.setupBuildVariants(),this.setupAccessibility(),this.logWelcome()}playSound(e){this.themeManager.isSoundEnabled()&&console.log(`Playing sound: ${e}`)}setupNavigation(){let e=document.getElementById("navToggle"),t=document.getElementById("navMenu");if(!e||!t)return;e.addEventListener("click",()=>{t.classList.toggle("active"),this.playSound("menu")}),document.addEventListener("click",i=>{!t.contains(i.target)&&!e.contains(i.target)&&t.classList.remove("active")}),document.addEventListener("keydown",i=>{i.key==="Escape"&&t.classList.remove("active"),this.handleKeyboardShortcuts(i)});let s=0;t.addEventListener("touchstart",i=>{s=i.changedTouches[0].screenX},{passive:!0}),t.addEventListener("touchend",i=>{let r=i.changedTouches[0].screenX;s-r>50&&t.classList.remove("active")},{passive:!0})}setupShareFeature(){let e=document.getElementById("shareBuild");e&&e.addEventListener("click",()=>{let t=document.getElementById("intelligence")?.value||"0",s=this.damageCalculator.getResult(),i=`${this.skillManager.getUsedPoints()}/${this.skillManager.getTotalPoints()}`,r=`D4 Shadow Blood Wave Necro Build
-----------------------------------
Intelligence: ${t}
Est. Damage: ${s}
Skill Points: ${i}
-----------------------------------
Generated by Advanced Necro Guide`;navigator.clipboard.writeText(r).then(()=>{L(e);let o=e.title;e.title="Copied!",setTimeout(()=>e.title=o,2e3);let a=e.querySelector("i");a&&(a.className="fas fa-check",setTimeout(()=>a.className="fas fa-share-alt",2e3))}),this.playSound("click")})}setupImageFallback(){document.querySelectorAll("img").forEach(e=>{e.addEventListener("error",()=>{e.src="https://via.placeholder.com/64/8b0000/ffffff?text=D4",e.classList.add("image-fallback")})})}setupBuildVariants(){document.querySelectorAll(".variant-tab").forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.variant;document.querySelectorAll(".variant-tab").forEach(s=>s.classList.remove("active")),e.classList.add("active"),document.querySelectorAll(".variant-content").forEach(s=>{s.classList.remove("active"),s.dataset.variant===t&&s.classList.add("active")})})})}setupAccessibility(){[document.getElementById("navToggle"),document.getElementById("themeSwitcher"),document.getElementById("soundToggle"),document.getElementById("shareBuild"),document.getElementById("searchToggle")].forEach(t=>{t&&t.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t.click())})})}handleKeyboardShortcuts(e){if(e.key>="1"&&e.key<="4"){let t=document.querySelectorAll(".skill-slot"),s=parseInt(e.key)-1;t[s]&&this.skillManager.activateSkill(t[s])}}logWelcome(){console.log(`
        [Blood Wave] Advanced Shadow Blood Wave Necromancer Guide Loaded!

        Built for Season 11 - Divine Intervention
        Features: Interactive calculators, skill tracking, damage simulation

        Controls:
        - Click skills to activate
        - Use number keys 1-4 for quick skill selection
        - ESC to close menus
        - Click gear for comparisons

        May Rathma's power flow through you!
        `)}};document.addEventListener("DOMContentLoaded",()=>{new Z().init()});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(n=>console.log("SW registered:",n.scope)).catch(n=>console.log("SW registration failed:",n))});})();
//# sourceMappingURL=scripts.bundle.js.map
