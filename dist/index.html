<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Shadow Blood Wave Necromancer - Advanced Season 11 Guide</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#8B0000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="D4 Necro Guide" />
    <style>
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image:
          radial-gradient(circle at 20% 50%, rgba(196, 30, 58, 0.1) 0, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 107, 107, 0.1) 0, transparent 50%),
          radial-gradient(circle at 40% 80%, rgba(255, 140, 0, 0.05) 0, transparent 50%);
        z-index: -1;
        animation: float 20s ease-in-out infinite;
      }
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }
      .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: var(--blood-red);
        border-radius: 50%;
        opacity: 0.6;
        animation: particleFloat 15s infinite linear;
      }
      @keyframes particleFloat {
        0% {
          transform: translateY(100vh) translateX(0);
          opacity: 0;
        }
        10% {
          opacity: 0.6;
        }
        90% {
          opacity: 0.6;
        }
        100% {
          transform: translateY(-100px) translateX(100px);
          opacity: 0;
        }
      }
      @keyframes float {
        0%,
        100% {
          transform: translateY(0) rotate(0);
        }
        33% {
          transform: translateY(-20px) rotate(1deg);
        }
        66% {
          transform: translateY(10px) rotate(-1deg);
        }
      }
      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
      }
      .nav-toggle {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        padding: 12px;
        cursor: pointer;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
      }
      .nav-toggle:hover {
        background: var(--shadow-red);
        transform: scale(1.05);
      }
      .search-toggle {
        position: fixed;
        top: 20px;
        right: 200px;
        z-index: 1000;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        padding: 12px;
        cursor: pointer;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
      }
      .search-toggle:hover {
        background: var(--shadow-red);
        transform: scale(1.05);
      }
      .search-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(10px);
        z-index: 2000;
        display: none;
        justify-content: center;
        align-items: flex-start;
        padding-top: 100px;
      }
      .search-overlay.active {
        display: flex;
      }
      .search-container {
        width: 90%;
        max-width: 600px;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        overflow: hidden;
      }
      .search-input-wrapper {
        display: flex;
        align-items: center;
        padding: 16px 20px;
        border-bottom: 1px solid var(--glass-border);
        gap: 12px;
      }
      .search-input-wrapper i {
        color: var(--text-secondary);
        font-size: 1.2em;
      }
      .search-input-wrapper input {
        flex: 1;
        background: 0 0;
        border: none;
        color: var(--text-primary);
        font-size: 1.1em;
        outline: 0;
      }
      .search-input-wrapper input::placeholder {
        color: var(--text-secondary);
      }
      .search-input-wrapper kbd {
        background: rgba(255, 255, 255, 0.1);
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.8em;
        color: var(--text-secondary);
      }
      .search-results {
        max-height: 400px;
        overflow-y: auto;
      }
      .search-result-item {
        padding: 12px 20px;
        cursor: pointer;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        transition: background 0.2s;
      }
      .search-result-item:hover {
        background: var(--shadow-red);
      }
      .search-result-item .title {
        color: var(--blood-red);
        font-weight: 600;
        margin-bottom: 4px;
      }
      .search-result-item .context {
        color: var(--text-secondary);
        font-size: 0.9em;
      }
      .search-no-results {
        padding: 40px 20px;
        text-align: center;
        color: var(--text-secondary);
      }
      @media (max-width: 768px) {
        .search-toggle {
          right: 150px;
          top: 15px;
          padding: 10px;
        }
      }
      .nav-menu {
        position: fixed;
        top: 0;
        left: -300px;
        width: 280px;
        height: 100vh;
        background: rgba(26, 26, 46, 0.95);
        backdrop-filter: blur(20px);
        z-index: 999;
        transition: left 0.3s ease;
        padding: 80px 20px 20px;
        border-right: 1px solid var(--glass-border);
        overflow-y: auto;
      }
      .nav-menu.active {
        left: 0;
      }
      .nav-menu h3 {
        color: var(--blood-red);
        margin-bottom: 20px;
        font-family: Cinzel, serif;
        font-size: 1.3em;
        text-align: center;
        border-bottom: 2px solid var(--primary-red);
        padding-bottom: 10px;
      }
      .nav-menu ul {
        list-style: none;
      }
      .nav-menu li {
        margin-bottom: 8px;
      }
      .nav-menu a {
        color: var(--text-primary);
        text-decoration: none;
        padding: 10px 15px;
        display: block;
        border-radius: 8px;
        transition: all 0.3s ease;
        border-left: 3px solid transparent;
      }
      .nav-menu a:hover {
        background: var(--shadow-red);
        border-left-color: var(--primary-red);
        transform: translateX(5px);
      }
      .theme-switcher {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        padding: 12px;
        cursor: pointer;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
      }
      .theme-switcher:hover {
        background: var(--shadow-red);
        transform: scale(1.05);
      }
      .header {
        text-align: center;
        padding: 60px 20px 40px;
        background: linear-gradient(135deg, rgba(196, 30, 58, 0.1) 0, rgba(139, 0, 0, 0.1) 100%);
        border-radius: 0 0 30px 30px;
        margin-bottom: 40px;
        position: relative;
        overflow: hidden;
      }
      .header::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0, transparent 70%);
        animation: pulse 4s ease-in-out infinite;
      }
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.5;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
      }
      h1 {
        font-family: Cinzel, serif;
        font-size: clamp(2.5em, 5vw, 4em);
        color: var(--blood-red);
        text-shadow:
          0 0 20px var(--shadow-glow),
          0 0 40px var(--shadow-glow),
          0 0 60px var(--shadow-glow);
        margin-bottom: 15px;
        position: relative;
        z-index: 1;
        animation: glow 2s ease-in-out infinite alternate;
      }
      @keyframes glow {
        from {
          text-shadow:
            0 0 20px var(--shadow-glow),
            0 0 40px var(--shadow-glow),
            0 0 60px var(--shadow-glow);
        }
        to {
          text-shadow:
            0 0 30px var(--shadow-glow),
            0 0 50px var(--shadow-glow),
            0 0 70px var(--shadow-glow);
        }
      }
      .subtitle {
        color: var(--dark-red);
        font-size: clamp(1.1em, 2.5vw, 1.4em);
        position: relative;
        z-index: 1;
        margin-bottom: 20px;
      }
      .tier-badge {
        display: inline-block;
        background: linear-gradient(135deg, var(--gold), var(--dark-gold));
        color: #000;
        padding: 8px 25px;
        border-radius: 25px;
        font-weight: 700;
        font-size: 1.1em;
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        animation: shine 3s ease-in-out infinite;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .tier-badge:hover {
        transform: scale(1.1);
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
      }
      @keyframes shine {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
        }
      }
      .build-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }
      .stat-card {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px var(--shadow-glow);
        border-color: var(--primary-red);
      }
      .stat-value {
        font-size: 2em;
        font-weight: 700;
        color: var(--gold);
        margin-bottom: 5px;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
      }
      .stat-label {
        color: var(--text-secondary);
        font-size: 0.9em;
      }
      .pros-cons {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }
      .pros-cons .cons,
      .pros-cons .pros {
        background: var(--glass-bg);
        border-radius: 12px;
        padding: 20px;
        border: 1px solid var(--glass-border);
      }
      .pros-cons .pros {
        border-left: 4px solid var(--green);
      }
      .pros-cons .cons {
        border-left: 4px solid var(--primary-red);
      }
      .pros-cons h4 {
        margin-bottom: 12px;
        font-size: 1.1em;
      }
      .pros-cons ul {
        list-style: none;
        padding: 0;
      }
      .pros-cons li {
        padding: 8px 0;
        padding-left: 25px;
        position: relative;
        color: var(--text-secondary);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }
      .pros-cons li:last-child {
        border-bottom: none;
      }
      .pros-cons .pros li::before {
        content: '✓';
        position: absolute;
        left: 0;
        color: var(--green);
        font-weight: 700;
      }
      .pros-cons .cons li::before {
        content: '✗';
        position: absolute;
        left: 0;
        color: var(--blood-red);
        font-weight: 700;
      }
      .variant-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      .variant-tab {
        padding: 10px 20px;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 8px;
        cursor: pointer;
        color: var(--text-secondary);
        transition: all 0.3s ease;
        font-weight: 500;
      }
      .variant-tab:hover {
        border-color: var(--primary-red);
        color: var(--text-primary);
      }
      .variant-tab.active {
        background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
        border-color: var(--primary-red);
        color: #fff;
      }
      .variant-content {
        display: none;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 20px;
      }
      .variant-content.active {
        display: block;
      }
      .requirements-box {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        padding: 20px;
        margin: 20px 0;
      }
      .requirement-item {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        border-left: 3px solid var(--gold);
      }
      .requirement-item.critical {
        border-left-color: var(--primary-red);
      }
      .requirement-item i {
        color: var(--gold);
        font-size: 1.2em;
      }
      .section {
        background: var(--glass-bg);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(15px);
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
        opacity: 0;
        transform: translateY(20px);
      }
      .section.visible {
        opacity: 1;
        transform: translateY(0);
      }
      .section::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        transition: left 0.5s ease;
      }
      .section:hover::before {
        left: 100%;
      }
      .section:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 40px var(--shadow-glow);
        border-color: var(--primary-red);
      }
      .section h2 {
        font-family: Cinzel, serif;
        color: var(--blood-red);
        font-size: clamp(1.5em, 3vw, 2em);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
        border-bottom: 2px solid var(--primary-red);
        padding-bottom: 15px;
      }
      .section h3 {
        color: var(--orange);
        margin: 25px 0 15px;
        font-size: 1.3em;
        font-weight: 600;
      }
      .skill-bar {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 20px;
        padding: 25px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 15px;
        margin-bottom: 25px;
        border: 2px solid var(--glass-border);
      }
      .skill-slot {
        text-align: center;
        transition: transform 0.3s ease;
        cursor: pointer;
        position: relative;
      }
      .skill-slot:hover {
        transform: translateY(-10px);
      }
      .skill-slot.active {
        transform: scale(1.1);
      }
      .skill-icon {
        width: 80px;
        height: 80px;
        border-radius: 15px;
        border: 3px solid var(--primary-red);
        box-shadow: 0 0 20px var(--shadow-glow);
        margin-bottom: 10px;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
      }
      .skill-icon:hover {
        transform: scale(1.1) rotate(5deg);
        box-shadow: 0 0 30px var(--shadow-glow);
      }
      .skill-icon.ultimate {
        border-color: var(--gold);
        box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
      }
      .skill-icon::after {
        content: '';
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        background: linear-gradient(45deg, transparent, var(--blood-red), transparent);
        border-radius: 15px;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: -1;
      }
      .skill-icon:hover::after {
        opacity: 0.3;
      }
      .keybind {
        display: inline-block;
        background: linear-gradient(135deg, #444, #222);
        color: #fff;
        padding: 6px 15px;
        border-radius: 8px;
        font-weight: 700;
        font-size: 0.9em;
        border: 1px solid #666;
        margin-bottom: 8px;
        transition: all 0.3s ease;
      }
      .keybind.main {
        background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
        animation: pulse-key 2s ease-in-out infinite;
      }
      @keyframes pulse-key {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }
      .skill-name {
        font-size: 0.9em;
        color: var(--text-primary);
        font-weight: 500;
      }
      .skill-calculator {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 15px;
        padding: 25px;
        margin: 25px 0;
        border: 2px solid var(--glass-border);
      }
      .calculator-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }
      .skill-points {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .points-display {
        background: var(--primary-red);
        color: #fff;
        padding: 8px 15px;
        border-radius: 20px;
        font-weight: 700;
      }
      .reset-button {
        background: var(--dark-red);
        color: #fff;
        border: none;
        padding: 8px 15px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .reset-button:hover {
        background: var(--primary-red);
        transform: scale(1.05);
      }
      .skill-tree-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
      }
      .tree-category {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 15px;
        padding: 20px;
        border-left: 4px solid var(--primary-red);
        transition: all 0.3s ease;
        position: relative;
      }
      .tree-category:hover {
        transform: translateX(5px);
        border-left-width: 6px;
        box-shadow: 0 5px 20px var(--shadow-glow);
      }
      .tree-category h4 {
        color: var(--blood-red);
        margin-bottom: 15px;
        font-size: 1.2em;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .skill-entry {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .skill-entry:hover {
        background: rgba(196, 30, 58, 0.1);
        border-radius: 8px;
        padding: 10px;
        margin: 0 -10px;
      }
      .skill-entry:last-child {
        border-bottom: none;
      }
      .skill-entry img {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        border: 2px solid #555;
        transition: all 0.3s ease;
      }
      .skill-entry:hover img {
        transform: scale(1.1);
        border-color: var(--primary-red);
      }
      .skill-entry .points {
        background: var(--primary-red);
        color: #fff;
        padding: 3px 10px;
        border-radius: 12px;
        font-size: 0.85em;
        font-weight: 700;
        margin-left: auto;
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .skill-entry:hover .points {
        transform: scale(1.1);
      }
      .skill-entry.passive img {
        border-color: #4a90d9;
      }
      .skill-entry.passive .points {
        background: #4a90d9;
      }
      .skill-entry.key-passive img {
        border-color: var(--gold);
      }
      .skill-entry.key-passive .points {
        background: var(--gold);
        color: #000;
      }
      .damage-calculator {
        background: linear-gradient(135deg, rgba(196, 30, 58, 0.1), rgba(139, 0, 0, 0.1));
        border-radius: 15px;
        padding: 25px;
        margin: 25px 0;
        border: 2px solid var(--glass-border);
      }
      .calculator-inputs {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }
      .input-group {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }
      .input-group label {
        color: var(--text-secondary);
        font-size: 0.9em;
      }
      .input-group input {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid var(--glass-border);
        border-radius: 8px;
        padding: 10px;
        color: var(--text-primary);
        transition: all 0.3s ease;
      }
      .input-group input:focus {
        outline: 0;
        border-color: var(--primary-red);
        box-shadow: 0 0 10px var(--shadow-glow);
      }
      .damage-result {
        text-align: center;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        padding: 20px;
      }
      .damage-value {
        font-size: 2.5em;
        color: var(--gold);
        font-weight: 700;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
      }
      .sacrifice-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
      }
      .sacrifice-card {
        background: rgba(139, 0, 0, 0.15);
        border: 2px solid var(--dark-red);
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
      }
      .sacrifice-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(139, 0, 0, 0.4);
        border-color: var(--blood-red);
      }
      .sacrifice-card.active {
        border-color: var(--gold);
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
      }
      .sacrifice-card h4 {
        color: var(--blood-red);
        margin-bottom: 10px;
        font-size: 1.3em;
      }
      .sacrifice-type {
        color: var(--gold);
        font-weight: 700;
        margin-bottom: 8px;
        font-size: 1.1em;
      }
      .sacrifice-bonus {
        color: var(--green);
        font-size: 1em;
        font-weight: 500;
      }
      .paragon-board {
        counter-reset: board-counter;
      }
      .board-entry {
        display: flex;
        align-items: flex-start;
        gap: 20px;
        padding: 20px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 15px;
        margin-bottom: 15px;
        border-left: 4px solid var(--primary-red);
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .board-entry:hover {
        transform: translateX(10px);
        box-shadow: 0 5px 20px var(--shadow-glow);
      }
      .board-entry::before {
        counter-increment: board-counter;
        content: counter(board-counter);
        background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
        color: #fff;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        flex-shrink: 0;
        font-size: 1.1em;
      }
      .board-content h4 {
        color: var(--blood-red);
        margin-bottom: 8px;
        font-size: 1.2em;
      }
      .glyph-name {
        color: var(--gold);
        font-weight: 700;
      }
      .legendary-node {
        color: var(--orange);
        font-weight: 600;
      }
      .gear-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 20px;
      }
      .gear-slot {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid var(--glass-border);
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
      }
      .gear-slot:hover {
        transform: translateY(-5px);
        border-color: var(--primary-red);
        box-shadow: 0 10px 30px var(--shadow-glow);
      }
      .gear-slot.selected {
        border-color: var(--gold);
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
      }
      .gear-slot h4 {
        color: var(--orange);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1.2em;
      }
      .gear-slot h4 .slot-icon {
        font-size: 1.3em;
      }
      .aspect-name {
        color: var(--orange);
        font-weight: 700;
        font-size: 1.1em;
      }
      .unique-name {
        color: var(--brown);
        font-weight: 700;
        text-shadow: 0 0 5px rgba(139, 69, 19, 0.5);
      }
      .mythic-name {
        color: var(--gold);
        font-weight: 700;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
      }
      .required-tag {
        background: var(--primary-red);
        color: #fff;
        padding: 3px 10px;
        border-radius: 6px;
        font-size: 0.8em;
        margin-left: 8px;
        animation: pulse-tag 2s ease-in-out infinite;
      }
      @keyframes pulse-tag {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }
      .gear-effect {
        font-size: 0.95em;
        color: var(--text-secondary);
        margin-top: 8px;
        line-height: 1.5;
      }
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        backdrop-filter: blur(5px);
      }
      .modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: var(--bg-primary);
        border: 2px solid var(--glass-border);
        border-radius: 20px;
        padding: 30px;
        max-width: 600px;
        width: 90%;
        box-shadow: 0 20px 60px var(--shadow-glow);
      }
      .close-modal {
        position: absolute;
        top: 15px;
        right: 15px;
        background: 0 0;
        border: none;
        color: var(--text-primary);
        font-size: 1.5em;
        cursor: pointer;
        transition: color 0.3s ease;
      }
      .close-modal:hover {
        color: var(--blood-red);
      }
      .stats-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }
      .stats-table td,
      .stats-table th {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      .stats-table th {
        background: rgba(196, 30, 58, 0.4);
        color: var(--blood-red);
        font-weight: 600;
        font-size: 1.05em;
      }
      .stats-table tr:hover {
        background: rgba(255, 255, 255, 0.05);
      }
      .priority-1 {
        color: var(--gold);
        font-weight: 700;
        text-shadow: 0 0 5px rgba(255, 215, 0, 0.3);
      }
      .priority-2 {
        color: var(--orange);
        font-weight: 500;
      }
      .priority-3 {
        color: var(--green);
      }
      .rotation-steps {
        counter-reset: step-counter;
      }
      .rotation-step {
        display: flex;
        align-items: flex-start;
        gap: 20px;
        padding: 20px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 15px;
        margin-bottom: 15px;
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .rotation-step:hover {
        transform: translateX(10px);
        background: rgba(196, 30, 58, 0.1);
      }
      .rotation-step.active {
        background: rgba(196, 30, 58, 0.2);
        border-left: 4px solid var(--gold);
      }
      .rotation-step::before {
        counter-increment: step-counter;
        content: counter(step-counter);
        background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
        color: #fff;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.3em;
        flex-shrink: 0;
      }
      .step-content {
        flex: 1;
      }
      .step-skill {
        color: var(--blood-red);
        font-weight: 700;
        font-size: 1.1em;
      }
      .step-note {
        color: var(--text-secondary);
        font-size: 0.95em;
        margin-top: 5px;
      }
      .mechanic-box {
        background: linear-gradient(135deg, rgba(196, 30, 58, 0.2), rgba(139, 0, 0, 0.2));
        border-radius: 15px;
        padding: 25px;
        margin-top: 25px;
        border-left: 6px solid var(--primary-red);
        box-shadow: 0 5px 20px var(--shadow-glow);
      }
      .mechanic-box h4 {
        color: var(--blood-red);
        margin-bottom: 15px;
        font-size: 1.3em;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .mechanic-box ul {
        margin-left: 20px;
      }
      .mechanic-box li {
        margin-bottom: 8px;
        color: var(--text-primary);
        line-height: 1.6;
      }
      .footer {
        text-align: center;
        padding: 40px 20px;
        color: var(--text-muted);
        font-size: 0.95em;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 50px;
      }
      .footer p {
        margin-bottom: 8px;
      }
      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: var(--primary-red);
        color: #fff;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: none;
        cursor: pointer;
        font-size: 1.5em;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 1000;
        box-shadow: 0 5px 15px var(--shadow-glow);
      }
      .back-to-top.visible {
        opacity: 1;
        visibility: visible;
      }
      .back-to-top:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px var(--shadow-glow);
      }
      .progress-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 4px;
        background: linear-gradient(90deg, var(--primary-red), var(--gold));
        z-index: 1001;
        transition: width 0.3s ease;
      }
      .sound-toggle {
        position: fixed;
        bottom: 30px;
        left: 30px;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        padding: 12px;
        cursor: pointer;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        z-index: 1000;
      }
      .sound-toggle:hover {
        background: var(--shadow-red);
        transform: scale(1.05);
      }
      .sound-toggle.muted {
        opacity: 0.5;
      }
      .share-build {
        position: fixed;
        bottom: 90px;
        left: 30px;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        padding: 12px;
        cursor: pointer;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        z-index: 1000;
      }
      .share-build:hover {
        background: var(--shadow-red);
        transform: scale(1.05);
      }
      .modal-comparison-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 20px;
      }
      .comparison-card {
        background: rgba(0, 0, 0, 0.4);
        padding: 20px;
        border-radius: 12px;
        border: 1px solid var(--glass-border);
        transition: transform 0.3s ease;
      }
      .comparison-card:hover {
        transform: translateY(-5px);
        border-color: var(--primary-red);
      }
      .comparison-card .item-name {
        font-weight: 700;
        margin-bottom: 12px;
        color: var(--text-primary);
        font-size: 1.1em;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding-bottom: 8px;
      }
      .comparison-card ul {
        list-style: none;
        padding-left: 0;
      }
      .comparison-card li {
        font-size: 0.9em;
        color: var(--text-secondary);
        margin-bottom: 5px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .comparison-card li::before {
        content: '•';
        color: var(--primary-red);
      }
      .tempering-box {
        margin-top: 20px;
        background: rgba(255, 215, 0, 0.1);
        padding: 15px;
        border-radius: 10px;
        border: 1px dashed var(--gold);
        color: var(--gold);
        font-size: 0.95em;
      }
      .highlight-glow {
        animation: highlightGlow 0.5s ease-out;
      }
      @keyframes highlightGlow {
        0% {
          box-shadow: 0 0 0 0 var(--primary-red);
        }
        100% {
          box-shadow: 0 0 20px 5px transparent;
        }
      }
      @media (max-width: 768px) {
        .container {
          padding: 0 15px;
        }
        .header {
          padding: 40px 15px 30px;
        }
        .section {
          padding: 20px;
        }
        .skill-bar {
          grid-template-columns: repeat(3, 1fr);
          gap: 15px;
          padding: 20px;
        }
        .skill-icon {
          width: 60px;
          height: 60px;
        }
        .skill-tree-section {
          grid-template-columns: 1fr;
        }
        .gear-grid {
          grid-template-columns: 1fr;
        }
        .sacrifice-grid {
          grid-template-columns: 1fr;
        }
        .nav-menu {
          width: 250px;
          left: -250px;
        }
        .back-to-top {
          bottom: 20px;
          right: 20px;
          width: 45px;
          height: 45px;
        }
        .sound-toggle {
          bottom: 20px;
          left: 20px;
          padding: 10px;
        }
      }
      @media (max-width: 480px) {
        .skill-bar {
          grid-template-columns: repeat(2, 1fr);
        }
        .board-entry,
        .rotation-step {
          flex-direction: column;
          text-align: center;
        }
        .board-entry::before,
        .rotation-step::before {
          margin: 0 auto;
        }
        .calculator-inputs {
          grid-template-columns: 1fr;
        }
      }
      @media print {
        body {
          background: #fff;
          color: #000;
        }
        .section {
          border: 1px solid #ccc;
          background: #fff;
        }
        .skill-icon {
          border-color: #333;
        }
        .back-to-top,
        .nav-toggle,
        .progress-bar,
        .sound-toggle,
        .theme-switcher {
          display: none;
        }
      }
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(196, 30, 58, 0.3);
        border-radius: 50%;
        border-top-color: var(--primary-red);
        animation: spin 1s ease-in-out infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      .tooltip {
        position: relative;
        cursor: help;
      }
      .tooltip::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 125%;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.9);
        color: #fff;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 0.85em;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 1000;
      }
      .tooltip:hover::after {
        opacity: 1;
        visibility: visible;
      }
      @keyframes pulse-glow {
        0%,
        100% {
          box-shadow: 0 0 20px var(--shadow-glow);
          transform: scale(1);
        }
        50% {
          box-shadow: 0 0 40px var(--shadow-glow);
          transform: scale(1.02);
        }
      }
      .pulse-glow {
        animation: pulse-glow 3s ease-in-out infinite;
      }
      .audio-feedback {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="particles" id="particles"></div>
    <div class="progress-bar" id="progressBar"></div>
    <div class="nav-toggle" id="navToggle"><i class="fas fa-bars"></i></div>
    <div class="theme-switcher" id="themeSwitcher" title="Toggle Theme"><i class="fas fa-moon"></i></div>
    <div class="sound-toggle" id="soundToggle" title="Toggle Sound"><i class="fas fa-volume-up"></i></div>
    <div class="share-build" id="shareBuild" title="Share Build Summary"><i class="fas fa-share-alt"></i></div>
    <div class="search-toggle" id="searchToggle" title="Search Guide (Ctrl+K)"><i class="fas fa-search"></i></div>
    <div class="search-overlay" id="searchOverlay">
      <div class="search-container">
        <div class="search-input-wrapper">
          <i class="fas fa-search"></i>
          <input type="text" id="searchInput" placeholder="Search skills, gear, sections..." autocomplete="off" />
          <kbd>ESC</kbd>
        </div>
        <div class="search-results" id="searchResults"></div>
      </div>
    </div>
    <nav class="nav-menu" id="navMenu">
      <h3>Navigation</h3>
      <ul>
        <li>
          <a href="#sanctification"><i class="fas fa-star"></i> Sanctification</a>
        </li>
        <li>
          <a href="#variants"><i class="fas fa-layer-group"></i> Build Variants</a>
        </li>
        <li>
          <a href="#skills"><i class="fas fa-magic"></i> Skills & Keybinds</a>
        </li>
        <li>
          <a href="#skilltree"><i class="fas fa-sitemap"></i> Skill Tree</a>
        </li>
        <li>
          <a href="#bookofthedead"><i class="fas fa-skull"></i> Book of the Dead</a>
        </li>
        <li>
          <a href="#paragon"><i class="fas fa-chart-line"></i> Paragon Boards</a>
        </li>
        <li>
          <a href="#gear"><i class="fas fa-shield-alt"></i> Gear & Aspects</a>
        </li>
        <li>
          <a href="#stats"><i class="fas fa-chart-bar"></i> Stats Priority</a>
        </li>
        <li>
          <a href="#rotation"><i class="fas fa-sync-alt"></i> Gameplay Rotation</a>
        </li>
        <li>
          <a href="#gems"><i class="fas fa-gem"></i> Gems & Runewords</a>
        </li>
        <li>
          <a href="#mercenary"><i class="fas fa-user-ninja"></i> Mercenary Setup</a>
        </li>
        <li>
          <a href="#divinegifts"><i class="fas fa-gift"></i> Divine Gifts</a>
        </li>
        <li>
          <a href="#calculator"><i class="fas fa-calculator"></i> Damage Calculator</a>
        </li>
      </ul>
    </nav>
    <div class="container">
      <header class="header">
        <h1><i class="fas fa-tint" style="color: var(--blood-red)"></i> Shadow Blood Wave Necromancer</h1>
        <p class="subtitle">
          <span class="tier-badge">S-TIER</span> Season 11 - Divine Intervention | Pit 140-150+ Viable
        </p>
        <p style="color: var(--text-secondary); margin-top: 10px; font-size: 0.95em">
          Master the ultimate Blood Wave build with advanced tools and calculations
        </p>
        <div class="build-stats">
          <div class="stat-card" style="border-top: 3px solid var(--green)">
            <div class="stat-value" style="color: var(--green)">Excellent</div>
            <div class="stat-label"><i class="fas fa-mountain"></i> Pit Push</div>
          </div>
          <div class="stat-card" style="border-top: 3px solid var(--orange)">
            <div class="stat-value" style="color: var(--orange)">Moderate</div>
            <div class="stat-label"><i class="fas fa-bolt"></i> Speed</div>
          </div>
          <div class="stat-card" style="border-top: 3px solid var(--green)">
            <div class="stat-value" style="color: var(--green)">Excellent</div>
            <div class="stat-label"><i class="fas fa-skull-crossbones"></i> Bossing</div>
          </div>
          <div class="stat-card" style="border-top: 3px solid var(--green)">
            <div class="stat-value" style="color: var(--green)">Excellent</div>
            <div class="stat-label"><i class="fas fa-shield-alt"></i> Survivability</div>
          </div>
        </div>
        <div style="margin-top: 20px; text-align: center">
          <a
            href="https://maxroll.gg/d4/planner/1kdu0en4#3"
            target="_blank"
            rel="noopener"
            style="
              display: inline-flex;
              align-items: center;
              gap: 10px;
              padding: 12px 24px;
              background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
              color: #fff;
              text-decoration: none;
              border-radius: 8px;
              font-weight: 600;
              transition:
                transform 0.2s,
                box-shadow 0.2s;
            "
            ><i class="fas fa-external-link-alt"></i> Open in D4Planner</a
          >
        </div>
        <div class="pros-cons">
          <div class="pros">
            <h4 style="color: var(--green)"><i class="fas fa-plus-circle"></i> Strengths</h4>
            <ul>
              <li>Massive AoE damage - clears entire screens</li>
              <li>Excellent boss damage with Tidal Aspect stacking</li>
              <li>High survivability with Blood Mist + Fortify</li>
              <li>S-Tier push build for Pit 140-150+</li>
              <li>Scales extremely well with gear investment</li>
            </ul>
          </div>
          <div class="cons">
            <h4 style="color: var(--blood-red)"><i class="fas fa-minus-circle"></i> Weaknesses</h4>
            <ul>
              <li>Requires specific Mythic Uniques to excel</li>
              <li>Moderate speed - not ideal for speedfarming</li>
              <li>Corpse dependency can be frustrating</li>
              <li>Overpower builds nerfed in Season 11</li>
              <li>High learning curve for optimal rotation</li>
            </ul>
          </div>
        </div>
        <div class="requirements-box">
          <div class="requirement-item critical">
            <i class="fas fa-crown"></i>
            <div>
              <strong style="color: var(--gold)">Kessime's Legacy</strong>
              <div style="color: var(--text-muted); font-size: 0.85em">Required Unique</div>
            </div>
          </div>
          <div class="requirement-item critical">
            <i class="fas fa-crown"></i>
            <div>
              <strong style="color: var(--gold)">Rathma's Vigor</strong>
              <div style="color: var(--text-muted); font-size: 0.85em">Required Unique</div>
            </div>
          </div>
          <div class="requirement-item">
            <i class="fas fa-star"></i>
            <div>
              <strong style="color: var(--text-primary)">Tidal Aspect</strong>
              <div style="color: var(--text-muted); font-size: 0.85em">Core Aspect</div>
            </div>
          </div>
          <div class="requirement-item">
            <i class="fas fa-star"></i>
            <div>
              <strong style="color: var(--text-primary)">Blood-bathed Aspect</strong>
              <div style="color: var(--text-muted); font-size: 0.85em">Core Aspect</div>
            </div>
          </div>
        </div>
      </header>
      <section class="section" id="variants" style="margin-bottom: 20px">
        <h2><i class="fas fa-layer-group"></i> Build Variants</h2>
        <div class="variant-tabs">
          <div class="variant-tab active" data-variant="endgame">Endgame (Pit Push)</div>
          <div class="variant-tab" data-variant="speedfarm">Speedfarm</div>
          <div class="variant-tab" data-variant="starter">Starter/Budget</div>
          <div class="variant-tab" data-variant="bossing">Bossing</div>
        </div>
        <div class="variant-content active" data-variant="endgame">
          <h4 style="color: var(--gold); margin-bottom: 15px">
            <i class="fas fa-trophy"></i> Endgame Pit Push (Pit 140+)
          </h4>
          <p style="color: var(--text-secondary); margin-bottom: 15px">
            Maximum damage variant focused on pushing the highest Pit tiers. Uses full Mythic gear with DoT focus after
            Season 11 Overpower nerfs.
          </p>
          <ul style="color: var(--text-secondary); margin-left: 20px; line-height: 2">
            <li><strong style="color: var(--gold)">Weapon:</strong> Sanctified 2H Scythe with +Quality (up to 25%)</li>
            <li><strong style="color: var(--gold)">Focus:</strong> DoT damage + Ultimate Shadow Aspect</li>
            <li>
              <strong style="color: var(--gold)">Key Stats:</strong> Vulnerable, Crit Damage, Int, Blood Skill Damage
            </li>
          </ul>
        </div>
        <div class="variant-content" data-variant="speedfarm">
          <h4 style="color: var(--orange); margin-bottom: 15px"><i class="fas fa-bolt"></i> Speedfarm Variant</h4>
          <p style="color: var(--text-secondary); margin-bottom: 15px">
            Faster movement and quicker kills for Helltide and lower Pit farming. Trades some damage for mobility.
          </p>
          <ul style="color: var(--text-secondary); margin-left: 20px; line-height: 2">
            <li><strong style="color: var(--orange)">Swap:</strong> Blood Mist for faster mobility skill</li>
            <li><strong style="color: var(--orange)">Paragon:</strong> Prioritize movement speed nodes</li>
            <li><strong style="color: var(--orange)">Focus:</strong> AoE clear over single-target</li>
          </ul>
        </div>
        <div class="variant-content" data-variant="starter">
          <h4 style="color: var(--green); margin-bottom: 15px">
            <i class="fas fa-seedling"></i> Starter / Budget Variant
          </h4>
          <p style="color: var(--text-secondary); margin-bottom: 15px">
            Can start with just Ancestral gear. Focus on getting Tidal Aspect and Blood-bathed Aspect first.
          </p>
          <ul style="color: var(--text-secondary); margin-left: 20px; line-height: 2">
            <li><strong style="color: var(--green)">Priority 1:</strong> Get Tidal Aspect from Codex</li>
            <li><strong style="color: var(--green)">Priority 2:</strong> Farm for Kessime's Legacy</li>
            <li><strong style="color: var(--green)">Priority 3:</strong> Stack Vulnerable damage where possible</li>
          </ul>
        </div>
        <div class="variant-content" data-variant="bossing">
          <h4 style="color: var(--blood-red); margin-bottom: 15px">
            <i class="fas fa-skull-crossbones"></i> Bossing Variant
          </h4>
          <p style="color: var(--text-secondary); margin-bottom: 15px">
            Optimized for Uber Bosses and Tormented bosses. Maximum single-target with Tidal wave stacking.
          </p>
          <ul style="color: var(--text-secondary); margin-left: 20px; line-height: 2">
            <li><strong style="color: var(--blood-red)">Key:</strong> Position to maximize Tidal wave bounces</li>
            <li><strong style="color: var(--blood-red)">Rotation:</strong> Tendrils → Blight → Blood Wave spam</li>
            <li><strong style="color: var(--blood-red)">Stats:</strong> Prioritize Crit Damage and Vulnerable</li>
          </ul>
        </div>
      </section>
      <div
        class="section"
        style="
          background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 140, 0, 0.1));
          border: 2px solid var(--gold);
          margin-bottom: 20px;
        "
      >
        <h3 style="color: var(--gold); margin-bottom: 15px">
          <i class="fas fa-exclamation-triangle"></i> Season 11 Meta Update (Dec 20, 2025)
        </h3>
        <div style="display: grid; gap: 10px">
          <div
            style="
              background: rgba(0, 0, 0, 0.3);
              padding: 12px;
              border-radius: 8px;
              border-left: 3px solid var(--primary-red);
            "
          >
            <strong style="color: var(--blood-red)">Overpower Nerfed:</strong>
            <span style="color: var(--text-secondary)"
              >Overpower builds significantly weakened. DoT variant with Ultimate Shadow Aspect now performs
              better.</span
            >
          </div>
          <div
            style="
              background: rgba(0, 0, 0, 0.3);
              padding: 12px;
              border-radius: 8px;
              border-left: 3px solid var(--orange);
            "
          >
            <strong style="color: var(--orange)">Kessime's Legacy Changed:</strong>
            <span style="color: var(--text-secondary)"
              >Now spawns fewer Blood Orbs. Still required but less reliable for cooldown reset.</span
            >
          </div>
          <div
            style="
              background: rgba(0, 0, 0, 0.3);
              padding: 12px;
              border-radius: 8px;
              border-left: 3px solid var(--green);
            "
          >
            <strong style="color: var(--green)">Rathma's Vigor Buffed:</strong>
            <span style="color: var(--text-secondary)"
              >Overpower timer reduced from 15s to 10s - easier to maintain guaranteed Overpowers.</span
            >
          </div>
          <div
            style="
              background: rgba(0, 0, 0, 0.3);
              padding: 12px;
              border-radius: 8px;
              border-left: 3px solid var(--gold);
            "
          >
            <strong style="color: var(--gold)">NEW - Divine Gifts:</strong>
            <span style="color: var(--text-secondary)"
              >Season 11 introduces Divine Gifts. Focus on Belial (Pit) and Duriel (Helltide) for best rewards.</span
            >
          </div>
        </div>
      </div>
      <div
        class="section"
        id="sanctification"
        style="
          background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(75, 0, 130, 0.1));
          border: 2px solid #9932cc;
          margin-bottom: 20px;
        "
      >
        <h3 style="color: orchid; margin-bottom: 15px"><i class="fas fa-star"></i> Season 11 Sanctification Guide</h3>
        <p style="color: var(--text-secondary); margin-bottom: 15px">
          Sanctifying gear at <strong style="color: orchid">Hadriels Forge</strong> can add new Stats, Greater Affixes,
          or Legendary Aspects - but makes items <span style="color: var(--blood-red)">Unmodifiable</span>.
        </p>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px">
          <div
            style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 10px; border-left: 3px solid orchid"
          >
            <h4 style="color: orchid; margin-bottom: 8px"><i class="fas fa-check-circle"></i> What to Sanctify</h4>
            <ul style="color: var(--text-secondary); margin-left: 15px; line-height: 1.8">
              <li><strong>Weapon</strong> - Sanctify for +Quality (up to 25% = x40% damage!)</li>
              <li><strong>Amulet</strong> - Great slot for bonus stats</li>
              <li><strong>Rings</strong> - Lucky Hit to Vulnerable synergy</li>
            </ul>
          </div>
          <div
            style="
              background: rgba(0, 0, 0, 0.3);
              padding: 15px;
              border-radius: 10px;
              border-left: 3px solid var(--blood-red);
            "
          >
            <h4 style="color: var(--blood-red); margin-bottom: 8px">
              <i class="fas fa-times-circle"></i> Dont Sanctify
            </h4>
            <ul style="color: var(--text-secondary); margin-left: 15px; line-height: 1.8">
              <li><strong>Kessimes Legacy</strong> - Keep for future upgrades</li>
              <li>Items you havent fully Masterworked</li>
              <li>Gear missing key Greater Affixes</li>
            </ul>
          </div>
          <div
            style="
              background: rgba(0, 0, 0, 0.3);
              padding: 15px;
              border-radius: 10px;
              border-left: 3px solid var(--gold);
            "
          >
            <h4 style="color: var(--gold); margin-bottom: 8px"><i class="fas fa-lightbulb"></i> Pro Tips</h4>
            <ul style="color: var(--text-secondary); margin-left: 15px; line-height: 1.8">
              <li>Sanctify potential gear, not equipped items</li>
              <li>You can still swap Gems and Runes after</li>
              <li>Focus on Corrupted Essences from Belial (Pit)</li>
            </ul>
          </div>
        </div>
        <div
          style="
            text-align: center;
            margin-top: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
          "
        >
          <span style="color: var(--text-muted)"
            ><i class="fas fa-sync-alt"></i> Data synced from Maxroll.gg - December 21, 2025</span
          >
        </div>
      </div>
      <section class="section" id="skills">
        <h2><i class="fas fa-magic"></i> Interactive Skill Bar</h2>
        <div class="skill-bar">
          <div class="skill-slot" data-skill="corpse-tendrils">
            <div class="keybind">1</div>
            <img
              src="blood_wave_images/2DUI_Skills_Necromancer_51.webp"
              alt="Corpse Tendrils"
              class="skill-icon tooltip"
              data-tooltip="Pull enemies together and trigger crit buff"
            />
            <div class="skill-name">Corpse Tendrils</div>
          </div>
          <div class="skill-slot" data-skill="blight">
            <div class="keybind">2</div>
            <img
              src="blood_wave_images/2DUI_Skills_Necromancer_7.webp"
              alt="Blight"
              class="skill-icon tooltip"
              data-tooltip="Apply damage multiplier debuff"
            />
            <div class="skill-name">Blight</div>
          </div>
          <div class="skill-slot" data-skill="blood-mist">
            <div class="keybind">3</div>
            <img
              src="blood_wave_images/2DUI_Skills_Necromancer_15.webp"
              alt="Blood Mist"
              class="skill-icon tooltip"
              data-tooltip="Emergency escape and unstoppable"
            />
            <div class="skill-name">Blood Mist</div>
          </div>
          <div class="skill-slot" data-skill="blood-wave">
            <div class="keybind main">4</div>
            <img
              src="blood_wave_images/2DUI_Skills_Necromancer_23.webp"
              alt="Blood Wave"
              class="skill-icon ultimate tooltip"
              data-tooltip="Your main damage dealer - triple wave destruction"
            />
            <div class="skill-name"><strong>Blood Wave</strong></div>
          </div>
          <div class="skill-slot" data-skill="reap">
            <div class="keybind">LMB</div>
            <img
              src="blood_wave_images/2DUI_Skills_Necromancer_75.webp"
              alt="Reap"
              class="skill-icon tooltip"
              data-tooltip="Generate corpses"
            />
            <div class="skill-name">Reap</div>
          </div>
          <div class="skill-slot" data-skill="decompose">
            <div class="keybind">RMB</div>
            <img
              src="blood_wave_images/2DUI_Skills_Necromancer_55.webp"
              alt="Decompose"
              class="skill-icon tooltip"
              data-tooltip="Basic attack and essence generation"
            />
            <div class="skill-name">Decompose</div>
          </div>
        </div>
        <div style="text-align: center; color: var(--text-secondary); font-size: 0.95em; margin-top: 15px">
          <i class="fas fa-fire"></i> <strong>Blood Wave</strong> is your main damage dealer - everything else sets it
          up<br /><i class="fas fa-mouse-pointer"></i> Click skills to see detailed information
        </div>
        <div class="skill-calculator">
          <div class="calculator-header">
            <h3><i class="fas fa-calculator"></i> Skill Point Calculator</h3>
            <div class="skill-points">
              <span>Points Used:</span> <span class="points-display" id="pointsUsed">0</span> <span>/</span>
              <span class="points-display" id="totalPoints">71</span>
              <button class="reset-button" id="resetSkills">Reset</button>
            </div>
          </div>
          <div style="text-align: center; color: var(--text-secondary)">
            <i class="fas fa-info-circle"></i> Click on skill points in the tree below to allocate/deallocate points
          </div>
        </div>
      </section>
      <section class="section" id="skilltree">
        <h2><i class="fas fa-sitemap"></i> Interactive Skill Tree (71 Points Total)</h2>
        <div
          style="
            margin-bottom: 20px;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--gold);
          "
        >
          <strong><i class="fas fa-lightbulb" style="color: var(--gold)"></i> Pro Tip:</strong> 12 additional points
          from Season Rank system. Priority skills to skip until unlocked: Titan's Fall, Amplify Damage, Death's
          Embrace, Fueled by Death
        </div>
        <div class="skill-tree-section">
          <div class="tree-category">
            <h4><i class="fas fa-hand-rock"></i> Basic Skills</h4>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_55.webp" alt="Decompose" /> <span>Decompose</span>
              <span class="points" data-max="5" data-current="1">1/5</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_55.webp" alt="Enhanced Decompose" />
              <span>Enhanced Decompose</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_75.webp" alt="Reap" /> <span>Reap</span>
              <span class="points" data-max="5" data-current="1">1/5</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_75.webp" alt="Enhanced Reap" />
              <span>Enhanced Reap</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_75.webp" alt="Acolyte's Reap" />
              <span>Acolyte's Reap</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
          </div>
          <div class="tree-category">
            <h4><i class="fas fa-fire"></i> Core Skills</h4>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_7.webp" alt="Blight" /> <span>Blight</span>
              <span class="points" data-max="5" data-current="5">5/5</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_7.webp" alt="Enhanced Blight" />
              <span>Enhanced Blight</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_7.webp" alt="Paranormal Blight" />
              <span>Paranormal Blight</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_27.webp" alt="Hewed Flesh" />
              <span>Hewed Flesh</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
          </div>
          <div class="tree-category">
            <h4><i class="fas fa-skull"></i> Corpse & Macabre Skills</h4>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_15.webp" alt="Blood Mist" /> <span>Blood Mist</span>
              <span class="points" data-max="5" data-current="1">1/5</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_15.webp" alt="Enhanced Blood Mist" />
              <span>Enhanced Blood Mist</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_15.webp" alt="Ghastly Blood Mist" />
              <span>Ghastly Blood Mist</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_51.webp" alt="Corpse Tendrils" />
              <span>Corpse Tendrils</span> <span class="points" data-max="5" data-current="1">1/5</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_51.webp" alt="Enhanced Corpse Tendrils" />
              <span>Enhanced Corpse Tendrils</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_51.webp" alt="Blighted Corpse Tendrils" />
              <span>Blighted Corpse Tendrils</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_27.webp" alt="Necrotic Carapace" />
              <span>Necrotic Carapace</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
          </div>
          <div class="tree-category">
            <h4><i class="fas fa-magic"></i> Curse Skills</h4>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_59.webp" alt="Decrepify" /> <span>Decrepify</span>
              <span class="points" data-max="5" data-current="1">1/5</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_59.webp" alt="Enhanced Decrepify" />
              <span>Enhanced Decrepify</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_59.webp" alt="Abhorrent Decrepify" />
              <span>Abhorrent Decrepify</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_47.webp" alt="Amplify Damage" />
              <span>Amplify Damage</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_24.webp" alt="Death's Embrace" />
              <span>Death's Embrace</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
          </div>
          <div class="tree-category">
            <h4><i class="fas fa-star"></i> Ultimate Skills</h4>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_23.webp" alt="Blood Wave" /> <span>Blood Wave</span>
              <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_23.webp" alt="Prime Blood Wave" />
              <span>Prime Blood Wave</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry">
              <img src="blood_wave_images/2DUI_Skills_Necromancer_23.webp" alt="Supreme Blood Wave" />
              <span>Supreme Blood Wave</span> <span class="points" data-max="1" data-current="1">1/1</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_50.webp" alt="Titan's Fall" />
              <span>Titan's Fall</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
          </div>
          <div class="tree-category">
            <h4><i class="fas fa-key"></i> Key Passives (MAX PRIORITY)</h4>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_41.webp" alt="Stand Alone" />
              <span>Stand Alone</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_27.webp" alt="Fueled by Death" />
              <span>Fueled by Death</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_27.webp" alt="Terror" /> <span>Terror</span>
              <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_27.webp" alt="Gloom" /> <span>Gloom</span>
              <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_27.webp" alt="Coalesced Blood" />
              <span>Coalesced Blood</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
            <div class="skill-entry passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_27.webp" alt="Tides of Blood" />
              <span>Tides of Blood</span> <span class="points" data-max="3" data-current="3">3/3</span>
            </div>
            <div class="skill-entry key-passive">
              <img src="blood_wave_images/2DUI_Talents_Necromancer_36.webp" alt="Rathma's Vigor" />
              <span><strong>Rathma's Vigor</strong></span> <span class="points" data-max="1" data-current="1">KEY</span>
            </div>
          </div>
        </div>
      </section>
      <section class="section" id="calculator">
        <h2><i class="fas fa-calculator"></i> Advanced Damage Calculator</h2>
        <div class="damage-calculator">
          <div class="calculator-inputs">
            <div class="input-group">
              <label for="weaponDamage">Weapon DPS</label>
              <input type="number" id="weaponDamage" value="5000" min="0" />
            </div>
            <div class="input-group">
              <label for="intelligence">Intelligence</label>
              <input type="number" id="intelligence" value="1000" min="0" />
            </div>
            <div class="input-group">
              <label for="bloodWaveRanks">Blood Wave Ranks (1-5)</label>
              <input type="number" id="bloodWaveRanks" value="5" min="1" max="5" />
            </div>
            <div class="input-group">
              <label for="tidalWaves">Tidal Aspect Waves</label>
              <input type="number" id="tidalWaves" value="4" min="1" max="6" />
            </div>
            <div class="input-group">
              <label for="additiveDamage">[+] Additive Damage (%)</label>
              <input type="number" id="additiveDamage" value="150" min="0" />
            </div>
            <div class="input-group">
              <label for="multiplicativeDamage">[x] Multiplicative (%)</label>
              <input type="number" id="multiplicativeDamage" value="100" min="0" />
            </div>
            <div class="input-group">
              <label for="shadowDamage">[x] Shadow Damage (%)</label>
              <input type="number" id="shadowDamage" value="150" min="0" />
            </div>
            <div class="input-group">
              <label for="critChance">Critical Strike Chance (%)</label>
              <input type="number" id="critChance" value="45" min="0" max="100" />
            </div>
            <div class="input-group">
              <label for="critDamage">Critical Strike Damage (%)</label>
              <input type="number" id="critDamage" value="350" min="0" />
            </div>
            <div class="input-group">
              <label for="vulnerableDamage">Vulnerable Damage (%)</label>
              <input type="number" id="vulnerableDamage" value="120" min="0" />
            </div>
            <div class="input-group">
              <label for="overpowerDamage">Overpower Damage (%)</label>
              <input type="number" id="overpowerDamage" value="200" min="0" />
            </div>
            <div class="input-group">
              <label for="overpowerChance">Overpower Chance (%)</label>
              <input type="number" id="overpowerChance" value="3" min="0" max="100" />
            </div>
            <div class="input-group">
              <label for="doubleDamageChance">Double Damage Chance (%)</label>
              <input type="number" id="doubleDamageChance" value="15" min="0" max="100" />
            </div>
          </div>
          <div class="damage-result">
            <h3>Blood Wave Damage</h3>
            <div class="damage-value" id="damageResult">0</div>
            <p style="color: var(--text-secondary); margin-top: 10px">
              <i class="fas fa-info-circle"></i> D4-accurate formula with damage buckets
            </p>
            <div
              id="damageBreakdown"
              style="margin-top: 15px; text-align: left; font-size: 0.9em; color: var(--text-secondary)"
            ></div>
            <div class="build-actions" style="margin-top: 20px; display: flex; gap: 10px; justify-content: center">
              <button id="exportBuild" class="action-btn" title="Export Build">
                <i class="fas fa-download"></i> Export
              </button>
              <button id="importBuild" class="action-btn" title="Import Build">
                <i class="fas fa-upload"></i> Import
              </button>
            </div>
          </div>
        </div>
      </section>
      <section class="section" id="bookofthedead">
        <h2><i class="fas fa-skull"></i> Book of the Dead (All Sacrificed)</h2>
        <div
          style="
            margin-bottom: 20px;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--dark-red);
          "
        >
          <strong><i class="fas fa-exclamation-triangle" style="color: var(--dark-red)"></i> Build Core:</strong> This
          build sacrifices ALL minions for Stand Alone passive and permanent bonuses
        </div>
        <div class="sacrifice-grid">
          <div class="sacrifice-card active" data-sacrifice="reapers">
            <h4><i class="fas fa-bone"></i> Skeletal Warriors</h4>
            <div class="sacrifice-type">REAPERS [Sacrifice]</div>
            <div class="sacrifice-bonus">+15% Shadow Damage</div>
            <p style="font-size: 0.85em; color: var(--text-muted); margin-top: 8px">
              <i class="fas fa-info-circle"></i> Use Skirmishers if Crit Chance &lt; 60%
            </p>
          </div>
          <div class="sacrifice-card active" data-sacrifice="bone">
            <h4><i class="fas fa-wand-magic-sparkles"></i> Skeletal Mages</h4>
            <div class="sacrifice-type">BONE [Sacrifice]</div>
            <div class="sacrifice-bonus">+15% Overpower Damage</div>
          </div>
          <div class="sacrifice-card active" data-sacrifice="iron">
            <h4><i class="fas fa-shield-alt"></i> Golem</h4>
            <div class="sacrifice-type">IRON [Sacrifice]</div>
            <div class="sacrifice-bonus">+15% Critical Strike Damage</div>
          </div>
        </div>
      </section>
      <section class="section" id="paragon">
        <h2><i class="fas fa-chart-line"></i> Paragon Boards (Priority Order)</h2>
        <div
          style="
            margin-bottom: 20px;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--gold);
          "
        >
          <strong><i class="fas fa-crosshairs" style="color: var(--gold)"></i> Leveling Strategy:</strong> Level all
          Glyphs to <strong>15</strong> first (radius increase), then to <strong>46</strong> (secondary multiplier
          unlock)
        </div>
        <div class="paragon-board">
          <div class="board-entry">
            <div class="board-content">
              <h4>Starting Board</h4>
              <p><span class="legendary-node">Legendary Node:</span> Sacrificial</p>
              <p><span class="glyph-name">Glyph:</span> Corporeal</p>
            </div>
          </div>
          <div class="board-entry">
            <div class="board-content">
              <h4>Bloodbath</h4>
              <p><span class="legendary-node">Legendary Node:</span> Gravekeeper</p>
              <p><span class="glyph-name">Glyph:</span> Dominate</p>
            </div>
          </div>
          <div class="board-entry">
            <div class="board-content">
              <h4>Scent of Death</h4>
              <p><span class="legendary-node">Legendary Node:</span> Scent of Death</p>
              <p><span class="glyph-name">Glyph:</span> Exploit</p>
            </div>
          </div>
          <div class="board-entry">
            <div class="board-content">
              <h4>Blood Begets Blood</h4>
              <p><span class="legendary-node">Legendary Node:</span> Blood Begets Blood</p>
              <p><span class="glyph-name">Glyph:</span> Desecration</p>
            </div>
          </div>
          <div class="board-entry">
            <div class="board-content">
              <h4>Wither</h4>
              <p><span class="legendary-node">Legendary Node:</span> Essence</p>
              <p><span class="glyph-name">Glyph:</span> Control</p>
            </div>
          </div>
          <div class="board-entry">
            <div class="board-content">
              <h4>Flesh-Eater</h4>
              <p><span class="legendary-node">Legendary Node:</span> Flesh-Eater</p>
              <p><span class="glyph-name">Glyph:</span> Darkness</p>
            </div>
          </div>
        </div>
      </section>
      <section class="section" id="gear">
        <h2><i class="fas fa-shield-alt"></i> Gear & Aspects</h2>
        <div
          style="
            margin-bottom: 20px;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--gold);
          "
        >
          <strong
            ><i class="fas fa-crosshairs" style="color: var(--gold)"></i> Click on gear pieces to compare
            alternatives</strong
          >
        </div>
        <div class="gear-grid">
          <div class="gear-slot" data-gear="helmet">
            <h4>
              <span class="slot-icon"><i class="fas fa-hard-hat"></i></span> Helmet
            </h4>
            <p><span class="mythic-name">Heir of Perdition</span> (BiS Mythic)</p>
            <p class="gear-effect">Huge Crit Chance + Lucky Hit + Damage multiplier</p>
            <p style="margin-top: 10px"><span class="aspect-name">Alternative: Aspect of the Cursed Aura</span></p>
          </div>
          <div class="gear-slot" data-gear="chest">
            <h4>
              <span class="slot-icon"><i class="fas fa-tshirt"></i></span> Chest
            </h4>
            <p><span class="mythic-name">Shroud of False Death</span> (BiS Mythic)</p>
            <p class="gear-effect">+1 All Passives, huge survivability</p>
            <p style="margin-top: 10px"><span class="aspect-name">Alternative: Aspect of Hardened Bones</span></p>
            <p class="gear-effect">30% Damage Reduction baseline</p>
          </div>
          <div class="gear-slot" data-gear="gloves">
            <h4>
              <span class="slot-icon"><i class="fas fa-mitten"></i></span> Gloves
            </h4>
            <p><span class="aspect-name">Sacrificial Aspect</span></p>
            <p class="gear-effect">+55% increased Sacrifice bonuses</p>
          </div>
          <div class="gear-slot pulse-glow" data-gear="pants">
            <h4>
              <span class="slot-icon"><i class="fas fa-socks"></i></span> Pants
            </h4>
            <p><span class="unique-name">Kessime's Legacy</span> <span class="required-tag">REQUIRED</span></p>
            <p class="gear-effect">Blood Wave forms dual converging waves that explode. Core of the build!</p>
          </div>
          <div class="gear-slot" data-gear="boots">
            <h4>
              <span class="slot-icon"><i class="fas fa-shoe-prints"></i></span> Boots
            </h4>
            <p><span class="aspect-name">Aspect of Metamorphosis</span></p>
            <p class="gear-effect">Evade turns you into bats, Unstoppable 2.5s</p>
          </div>
          <div class="gear-slot pulse-glow" data-gear="weapon">
            <h4>
              <span class="slot-icon"><i class="fas fa-gavel"></i></span> 2H Weapon
            </h4>
            <p><span class="aspect-name">Tidal Aspect</span> <span class="required-tag">REQUIRED</span></p>
            <p class="gear-effect">Blood Wave fires 3 total waves at 200% damage each</p>
            <p style="margin-top: 10px"><span class="unique-name">Alternative: Bloodless Scream</span> (endgame)</p>
          </div>
          <div class="gear-slot" data-gear="amulet">
            <h4>
              <span class="slot-icon"><i class="fas fa-gem"></i></span> Amulet
            </h4>
            <p><span class="aspect-name">Aspect of Grasping Veins</span></p>
            <p class="gear-effect">+38% Crit Chance & +75% Crit Damage after Corpse Tendrils</p>
          </div>
          <div class="gear-slot pulse-glow" data-gear="ring1">
            <h4>
              <span class="slot-icon"><i class="fas fa-ring"></i></span> Ring 1
            </h4>
            <p><span class="aspect-name">Fastblood Aspect</span> <span class="required-tag">REQUIRED</span></p>
            <p class="gear-effect">Blood Orbs reduce Ultimate CD by 3 seconds</p>
          </div>
          <div class="gear-slot" data-gear="ring2">
            <h4>
              <span class="slot-icon"><i class="fas fa-ring"></i></span> Ring 2
            </h4>
            <p><span class="aspect-name">Aspect of Ultimate Shadow</span></p>
            <p class="gear-effect">Blood Wave becomes Darkness skill + Shadow damage + Desecrated Ground DoT</p>
          </div>
        </div>
      </section>
      <section class="section" id="stats">
        <h2><i class="fas fa-chart-bar"></i> Stats Priority</h2>
        <table class="stats-table">
          <tr>
            <th>Slot Type</th>
            <th>Priority 1</th>
            <th>Priority 2</th>
            <th>Priority 3</th>
            <th>Priority 4</th>
          </tr>
          <tr>
            <td><strong>Weapons</strong></td>
            <td class="priority-1">Maximum Life</td>
            <td class="priority-2">Intelligence</td>
            <td class="priority-3">Overpower Damage</td>
            <td>Lucky Hit: Vulnerable</td>
          </tr>
          <tr>
            <td><strong>Armor</strong></td>
            <td class="priority-1">Maximum Life</td>
            <td class="priority-2">Intelligence</td>
            <td class="priority-3">Cooldown Reduction</td>
            <td>Armor/Resistances</td>
          </tr>
          <tr>
            <td><strong>Jewelry</strong></td>
            <td class="priority-1">Cooldown Reduction</td>
            <td class="priority-2">Critical Strike Chance</td>
            <td class="priority-3">Intelligence</td>
            <td>Maximum Life</td>
          </tr>
          <tr>
            <td><strong>Amulet</strong></td>
            <td class="priority-1">+Ranks Tides of Blood</td>
            <td class="priority-2">+Ranks Gloom</td>
            <td class="priority-3">Crit Chance/CDR</td>
            <td>+Ranks Terror</td>
          </tr>
        </table>
        <h3 style="margin-top: 30px"><i class="fas fa-hammer"></i> Tempering Priority</h3>
        <table class="stats-table">
          <tr>
            <th>Slot</th>
            <th>Temper 1</th>
            <th>Temper 2</th>
          </tr>
          <tr>
            <td><strong>Weapon</strong></td>
            <td class="priority-1">Blood Wave Double Damage Chance</td>
            <td class="priority-2">+Ranks to Titan's Fall</td>
          </tr>
          <tr>
            <td><strong>Chest</strong></td>
            <td class="priority-1">Corpse Tendrils Size %</td>
            <td>—</td>
          </tr>
          <tr>
            <td><strong>Gloves</strong></td>
            <td class="priority-1">Blood Overpower Damage %</td>
            <td>—</td>
          </tr>
          <tr>
            <td><strong>Amulet/Rings</strong></td>
            <td class="priority-1">Ultimate Cooldown Reduction %</td>
            <td>—</td>
          </tr>
        </table>
      </section>
      <section class="section" id="rotation">
        <h2><i class="fas fa-sync-alt"></i> Interactive Gameplay Rotation</h2>
        <div
          style="
            margin-bottom: 20px;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--gold);
          "
        >
          <strong
            ><i class="fas fa-crosshairs" style="color: var(--gold)"></i> Click each step to see detailed
            explanations</strong
          >
        </div>
        <div class="rotation-steps">
          <div class="rotation-step" data-step="1">
            <div class="step-content">
              <p><span class="step-skill">Approach Pack</span> - Trigger Cursed Aura or Igni+Wat runeword</p>
              <p class="step-note">Automatically applies Decrepify to enemies</p>
            </div>
          </div>
          <div class="rotation-step" data-step="2">
            <div class="step-content">
              <p><span class="step-skill">Reap (LMB)</span> - Create a corpse if none available</p>
              <p class="step-note">Skip if corpses already on ground</p>
            </div>
          </div>
          <div class="rotation-step" data-step="3">
            <div class="step-content">
              <p><span class="step-skill">Corpse Tendrils (1)</span> - Pull enemies together</p>
              <p class="step-note">Triggers Crit Chance buff from Aspect of Grasping Veins</p>
            </div>
          </div>
          <div class="rotation-step" data-step="4">
            <div class="step-content">
              <p><span class="step-skill">Blight (2)</span> - Throw into grouped enemies</p>
              <p class="step-note">Applies damage multiplier debuff</p>
            </div>
          </div>
          <div class="rotation-step active" data-step="5">
            <div class="step-content">
              <p><span class="step-skill">Blood Wave (4)</span> - MAIN DAMAGE</p>
              <p class="step-note">Triple waves converge and explode for massive damage</p>
            </div>
          </div>
          <div class="rotation-step" data-step="6">
            <div class="step-content">
              <p><span class="step-skill">Collect Blood Orbs</span> - Walk over spawned orbs</p>
              <p class="step-note">Resets Blood Wave cooldown + triggers Rathma's Vigor Overpower</p>
            </div>
          </div>
          <div class="rotation-step" data-step="7">
            <div class="step-content">
              <p><span class="step-skill">Repeat</span> - Once cooldowns reset</p>
              <p class="step-note">Blood Mist (3) if you need emergency escape</p>
            </div>
          </div>
        </div>
        <div class="mechanic-box">
          <h4><i class="fas fa-exclamation-triangle"></i> Key Mechanic: Cooldown Reset Engine</h4>
          <ul>
            <li><strong>Fastblood Aspect:</strong> Blood Orbs reduce Ultimate CD by 3 seconds</li>
            <li><strong>Abhorrent Decrepify:</strong> Lucky Hits against cursed enemies reduce cooldowns</li>
            <li>
              <strong>Rathma's Vigor:</strong> Collecting Blood Orbs within 10s (was 15s) = guaranteed Overpower on next
              Blood Wave
            </li>
          </ul>
        </div>
      </section>
      <section class="section" id="gems">
        <h2><i class="fas fa-gem"></i> Gems & Runewords</h2>
        <table class="stats-table">
          <tr>
            <th>Location</th>
            <th>Gem/Rune</th>
            <th>Effect</th>
          </tr>
          <tr>
            <td><strong>Weapon</strong></td>
            <td class="priority-1">Royal Emerald</td>
            <td>Increased damage</td>
          </tr>
          <tr>
            <td><strong>Armor (Socket 1)</strong></td>
            <td class="priority-2">Igni + Thul</td>
            <td>Frost Nova - Freeze + Vulnerable application</td>
          </tr>
          <tr>
            <td><strong>Armor (Socket 2)</strong></td>
            <td class="priority-2">Ahu + Qax</td>
            <td>100% damage increase vs non-Healthy</td>
          </tr>
          <tr>
            <td><strong>Jewelry</strong></td>
            <td class="priority-3">Royal Diamond / Topaz / Ruby</td>
            <td>Resistances (prioritize Lightning & Fire)</td>
          </tr>
        </table>
        <div
          style="
            margin-top: 20px;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--gold);
          "
        >
          <strong><i class="fas fa-lightbulb" style="color: var(--gold)"></i> Alternative:</strong> Igni + Wat - Invokes
          Horrid Decrepify, substitute for Cursed Aura aspect
        </div>
      </section>
      <section class="section" id="mercenary">
        <h2><i class="fas fa-user-ninja"></i> Mercenary Setup</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px">
          <div
            style="
              background: rgba(0, 0, 0, 0.2);
              padding: 20px;
              border-radius: 15px;
              border-left: 4px solid var(--gold);
            "
          >
            <h4 style="color: var(--gold); margin-bottom: 15px; font-size: 1.3em">
              <i class="fas fa-shield-alt"></i> Main: Raheir
            </h4>
            <ul style="margin-left: 20px">
              <li><i class="fas fa-hammer"></i> Ground Slam</li>
              <li><i class="fas fa-shield"></i> Raheir's Aegis</li>
              <li><i class="fas fa-fort-awesome"></i> Bastion</li>
              <li><i class="fas fa-lightbulb"></i> Inspiration</li>
            </ul>
          </div>
          <div
            style="
              background: rgba(0, 0, 0, 0.2);
              padding: 20px;
              border-radius: 15px;
              border-left: 4px solid var(--orange);
            "
          >
            <h4 style="color: var(--orange); margin-bottom: 15px; font-size: 1.3em">
              <i class="fas fa-fire"></i> Reinforcement: Aldkin
            </h4>
            <ul style="margin-left: 20px">
              <li><i class="fas fa-fire"></i> Flame Surge</li>
              <li style="color: var(--green)">
                <i class="fas fa-magic"></i> Triggers Abhorrent Decrepify on skill cast
              </li>
            </ul>
          </div>
        </div>
      </section>
      <section class="section" id="divinegifts">
        <h2><i class="fas fa-gift"></i> Divine Gifts (Season 11 Exclusive)</h2>
        <div
          style="
            margin-bottom: 20px;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--gold);
          "
        >
          <strong style="color: var(--gold)">How It Works:</strong> Slot 8 Divine Gifts total - 4 inner (Purified =
          bonuses) and 4 outer (Corrupted = rewards + debuffs). Focus on activities you enjoy most.
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px">
          <div
            style="background: rgba(139, 69, 19, 0.2); padding: 20px; border-radius: 15px; border: 2px solid #8b4513"
          >
            <h4 style="color: #d4a574; margin-bottom: 10px"><i class="fas fa-skull"></i> Duriel - Helltides</h4>
            <p style="color: var(--text-secondary); font-size: 0.9em">
              Maggots spawn throughout Helltide areas. Great for passive farming while running other content.
            </p>
            <p style="color: var(--green); margin-top: 8px">
              <strong>Priority:</strong> High - Helltides are core content
            </p>
          </div>
          <div style="background: rgba(128, 0, 128, 0.2); padding: 20px; border-radius: 15px; border: 2px solid purple">
            <h4 style="color: orchid; margin-bottom: 10px"><i class="fas fa-spider"></i> Andariel - Undercity</h4>
            <p style="color: var(--text-secondary); font-size: 0.9em">
              Appears as final boss of Undercity runs. Good for XP farming.
            </p>
            <p style="color: var(--orange); margin-top: 8px">
              <strong>Priority:</strong> Medium - If you run Undercity
            </p>
          </div>
          <div style="background: rgba(0, 100, 0, 0.2); padding: 20px; border-radius: 15px; border: 2px solid #228b22">
            <h4 style="color: #90ee90; margin-bottom: 10px"><i class="fas fa-eye"></i> Belial - The Pit</h4>
            <p style="color: var(--text-secondary); font-size: 0.9em">
              Find 5 eyes in Pit runs to summon him. Essential for pushing high Pit tiers.
            </p>
            <p style="color: var(--green); margin-top: 8px"><strong>Priority:</strong> High - Pit is endgame focus</p>
          </div>
          <div style="background: rgba(139, 0, 0, 0.2); padding: 20px; border-radius: 15px; border: 2px solid #8b0000">
            <h4 style="color: var(--blood-red); margin-bottom: 10px">
              <i class="fas fa-dragon"></i> Azmodan - World Boss
            </h4>
            <p style="color: var(--text-secondary); font-size: 0.9em">
              New summonable World Boss. Toughest Lesser Evil but great rewards.
            </p>
            <p style="color: var(--orange); margin-top: 8px">
              <strong>Priority:</strong> Medium - When you need a challenge
            </p>
          </div>
        </div>
      </section>
      <footer class="footer">
        <p><strong>Shadow Blood Wave Necromancer Build Guide</strong> | Season 11 - Divine Intervention</p>
        <p>Sources: Icy Veins (GhazzyTV), Maxroll (LordxSaura) | Updated December 20, 2025</p>
        <p style="margin-top: 15px; font-size: 0.85em">
          <i class="fas fa-heart" style="color: var(--blood-red)"></i> Built with passion for the Necromancer
          community<br /><i class="fas fa-code"></i> Advanced interactive features included
        </p>
      </footer>
    </div>
    <div class="modal" id="gearModal">
      <div class="modal-content">
        <button class="close-modal" id="closeModal">&times;</button>
        <h3 id="modalTitle">Gear Comparison</h3>
        <div id="modalContent"></div>
      </div>
    </div>
    <audio class="audio-feedback" id="skillSound" preload="auto">
      <source
        src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmFgU7k9n1unEiBC13yO/eizEIHWq+8+OWT"
        type="audio/wav"
      /></audio
    ><button class="back-to-top" id="backToTop" title="Back to Top"><i class="fas fa-chevron-up"></i></button>
    <script>
      class BloodWaveGuide {
        constructor() {
          ((this.soundEnabled = !0),
            (this.theme = 'dark'),
            (this.totalPoints = 71),
            (this.usedPoints = 48),
            this.init());
        }
        init() {
          (this.createParticles(),
            this.setupEventListeners(),
            this.setupSkillCalculator(),
            this.setupDamageCalculator(),
            this.setupRotationDemo(),
            this.setupGearComparison(),
            this.setupScrollAnimations(),
            this.setupShareFeature(),
            this.updatePointsDisplay());
        }
        createParticles() {
          const e = document.getElementById('particles');
          for (let t = 0; t < 20; t++) {
            const t = document.createElement('div');
            ((t.className = 'particle'),
              (t.style.left = 100 * Math.random() + '%'),
              (t.style.animationDelay = 15 * Math.random() + 's'),
              (t.style.animationDuration = 15 + 10 * Math.random() + 's'),
              e.appendChild(t));
          }
        }
        setupEventListeners() {
          const e = document.getElementById('navToggle'),
            t = document.getElementById('navMenu');
          (e.addEventListener('click', () => {
            (t.classList.toggle('active'), this.playSound('menu'));
          }),
            document.getElementById('themeSwitcher').addEventListener('click', () => {
              this.toggleTheme();
            }),
            document.getElementById('soundToggle').addEventListener('click', () => {
              this.toggleSound();
            }));
          const a = document.getElementById('backToTop');
          (window.addEventListener('scroll', () => {
            (window.scrollY > 300 ? a.classList.add('visible') : a.classList.remove('visible'),
              this.updateProgressBar());
          }),
            a.addEventListener('click', () => {
              (window.scrollTo({ top: 0, behavior: 'smooth' }), this.playSound('click'));
            }),
            document.addEventListener('click', a => {
              t.contains(a.target) || e.contains(a.target) || t.classList.remove('active');
            }),
            document.querySelectorAll('.skill-slot').forEach(e => {
              e.addEventListener('click', () => {
                (this.activateSkill(e), this.playSound('skill'));
              });
            }),
            document.addEventListener('keydown', e => {
              ('Escape' === e.key && t.classList.remove('active'), this.handleKeyboardShortcuts(e));
            }));
        }
        setupSkillCalculator() {
          (document.querySelectorAll('.points').forEach(e => {
            (e.addEventListener('click', e => {
              const t = parseInt(e.target.dataset.current),
                a = parseInt(e.target.dataset.max);
              t < a &&
                this.usedPoints < this.totalPoints &&
                ((e.target.dataset.current = t + 1),
                (e.target.textContent = t + 1 + '/' + a),
                this.usedPoints++,
                this.updatePointsDisplay(),
                this.playSound('click'),
                this.highlightElement(e.target.parentElement));
            }),
              e.addEventListener('contextmenu', e => {
                e.preventDefault();
                const t = parseInt(e.target.dataset.current),
                  a = parseInt(e.target.dataset.max);
                t > 0 &&
                  ((e.target.dataset.current = t - 1),
                  (e.target.textContent = t - 1 + '/' + a),
                  this.usedPoints--,
                  this.updatePointsDisplay(),
                  this.playSound('click'),
                  this.highlightElement(e.target.parentElement));
              }));
          }),
            document.getElementById('resetSkills').addEventListener('click', () => {
              this.resetSkills();
            }));
        }
        setupDamageCalculator() {
          ([
            'intelligence',
            'critChance',
            'critDamage',
            'overpowerDamage',
            'shadowDamage',
            'vulnerableDamage',
            'bloodWaveRanks'
          ].forEach(e => {
            document.getElementById(e).addEventListener('input', () => {
              this.calculateDamage();
            });
          }),
            this.calculateDamage());
        }
        setupRotationDemo() {
          document.querySelectorAll('.rotation-step').forEach(e => {
            e.addEventListener('click', () => {
              (document.querySelectorAll('.rotation-step').forEach(e => e.classList.remove('active')),
                e.classList.add('active'),
                this.playSound('click'));
            });
          });
        }
        setupGearComparison() {
          (document.querySelectorAll('.gear-slot').forEach(e => {
            e.addEventListener('click', () => {
              this.showGearComparison(e);
            });
          }),
            document.getElementById('closeModal').addEventListener('click', () => {
              document.getElementById('gearModal').style.display = 'none';
            }));
        }
        setupScrollAnimations() {
          const e = new IntersectionObserver(
            e => {
              e.forEach(e => {
                e.isIntersecting && e.target.classList.add('visible');
              });
            },
            { threshold: 0.1 }
          );
          document.querySelectorAll('.section').forEach(t => {
            e.observe(t);
          });
        }
        setupShareFeature() {
          const e = document.getElementById('shareBuild');
          e &&
            e.addEventListener('click', () => {
              const t = `D4 Shadow Blood Wave Necro Build\n-----------------------------------\nIntelligence: ${document.getElementById('intelligence').value}\nEst. Damage: ${document.getElementById('damageResult').textContent}\nSkill Points: ${`${this.usedPoints}/${this.totalPoints}`}\n-----------------------------------\nGenerated by Advanced Necro Guide`;
              (navigator.clipboard.writeText(t).then(() => {
                this.highlightElement(e);
                const t = e.title;
                ((e.title = 'Copied!'), setTimeout(() => (e.title = t), 2e3));
                const a = e.querySelector('i');
                ((a.className = 'fas fa-check'), setTimeout(() => (a.className = 'fas fa-share-alt'), 2e3));
              }),
                this.playSound('click'));
            });
        }
        calculateDamage() {
          const e = 10 * (parseInt(document.getElementById('intelligence').value) || 0),
            t =
              1 +
              ((parseInt(document.getElementById('critChance').value) || 0) / 100) *
                ((parseInt(document.getElementById('critDamage').value) || 0) / 100),
            a = 1 + (parseInt(document.getElementById('overpowerDamage').value) || 0) / 100,
            i = 1 + (parseInt(document.getElementById('shadowDamage').value) || 0) / 100,
            s = 1 + (parseInt(document.getElementById('vulnerableDamage').value) || 0) / 100,
            n = 1 + 0.2 * ((parseInt(document.getElementById('bloodWaveRanks').value) || 1) - 1),
            o = Math.round(e * t * a * i * s * n);
          document.getElementById('damageResult').textContent = o.toLocaleString();
        }
        activateSkill(e) {
          (document.querySelectorAll('.skill-slot').forEach(e => e.classList.remove('active')),
            e.classList.add('active'));
          const t = e.dataset.skill;
          console.log(`Activated skill: ${t}`);
        }
        updatePointsDisplay() {
          document.getElementById('pointsUsed').textContent = this.usedPoints;
        }
        resetSkills() {
          (document.querySelectorAll('.points').forEach(e => {
            const t = parseInt(e.dataset.max);
            ((e.dataset.current = '0'), (e.textContent = '0/' + t));
          }),
            (this.usedPoints = 0),
            this.updatePointsDisplay(),
            this.playSound('reset'));
        }
        showGearComparison(e) {
          const t = e.dataset.gear,
            a = document.getElementById('gearModal'),
            i = document.getElementById('modalTitle'),
            s = document.getElementById('modalContent'),
            n = {
              helmet: {
                primary: 'Heir of Perdition (Mythic)',
                primaryStats: ['+Crit Strike Chance', '+Lucky Hit Chance', '+Damage to Afflicted Enemies'],
                alternative: 'Aspect of the Cursed Aura',
                alternativeStats: ['+Max Life', '+Cooldown Reduction', '+Intelligence'],
                tempering: 'Total Armor, Shadow Resistance'
              },
              chest: {
                primary: 'Shroud of False Death (Mythic)',
                primaryStats: ['+1 All Passives', '+All Stats', '+Max Life'],
                alternative: 'Aspect of Hardened Bones',
                alternativeStats: ['+Damage Reduction', '+Max Life', '+Armor'],
                tempering: 'Corpse Tendrils Size, Maximum Life'
              },
              gloves: {
                primary: 'Sacrificial Aspect',
                primaryStats: ['+55% Sacrifice Bonuses', '+Attack Speed', '+Crit Strike Chance'],
                alternative: "Cruor's Embrace (Unique)",
                alternativeStats: ['+Blood Surge Ranks', '+Attack Speed', '+Crit Strike Chance'],
                tempering: 'Blood Overpower Damage %'
              },
              pants: {
                primary: "Kessime's Legacy (Unique)",
                primaryStats: ['+Blood Wave Dual Waves', '+Intelligence', '+Max Life'],
                alternative: "Tibault's Will (Unique)",
                alternativeStats: ['+Damage while Unstoppable', '+Max Resource', '+Damage Reduction'],
                tempering: 'None (Unique Item)'
              },
              boots: {
                primary: 'Aspect of Metamorphosis',
                primaryStats: ['+Movement Speed', '+All Stats', '+Resistances'],
                alternative: 'Aspect of Slaughter',
                alternativeStats: ['+Movement Speed', '+Max Life', '+Resistances'],
                tempering: 'Movement Speed, Dodge Chance'
              },
              weapon: {
                primary: 'Tidal Aspect (2H Weapon)',
                primaryStats: ['+3 Blood Waves', '+200% Wave Damage', '+Intelligence'],
                alternative: 'Bloodless Scream (Unique Scythe)',
                alternativeStats: ['+Shadow Damage to Frozen', '+Essence on Chill', '+Darkness Damage'],
                tempering: 'Blood Wave Double Damage Chance, Critical Strike Damage'
              },
              amulet: {
                primary: 'Aspect of Grasping Veins',
                primaryStats: ['+38% Crit Chance', '+75% Crit Damage', '+Cooldown Reduction'],
                alternative: "Banished Lord's Talisman (Unique)",
                alternativeStats: ['+Overpower Multiplier', '+Crit Strike Chance', '+Resource Generation'],
                tempering: 'Ultimate Cooldown Reduction %, Movement Speed'
              },
              ring1: {
                primary: 'Fastblood Aspect',
                primaryStats: ['+Ultimate CD Reduction on Blood Orb', '+Crit Strike Chance', '+Attack Speed'],
                alternative: 'Ring of Starless Skies (Mythic)',
                alternativeStats: ['+Resource Cost Reduction', '+Damage Multiplier', '+Attack Speed'],
                tempering: 'Ultimate Cooldown Reduction %, Resource Generation'
              },
              ring2: {
                primary: 'Aspect of Ultimate Shadow',
                primaryStats: ['+Blood Wave is Darkness', '+Shadow DoT', '+Crit Strike Chance'],
                alternative: 'Ring of the Sacrilegious Soul (Unique)',
                alternativeStats: ['+Auto-cast Corpse Skills', '+Lucky Hit Chance', '+Crit Strike Chance'],
                tempering: 'Ultimate Cooldown Reduction %, Resource Generation'
              }
            }[t] || {
              primary: 'Highly Optimized Piece',
              primaryStats: ['Best in Slot stats'],
              alternative: 'Solid Alternative',
              alternativeStats: ['Budget stats'],
              tempering: 'Recommended Tempers'
            };
          i.textContent = `${t.charAt(0).toUpperCase() + t.slice(1)} Comparison`;
          let o = '<div class="modal-comparison-grid">';
          ((o += '<div class="comparison-card primary">'),
            (o +=
              '<h4 style="color: var(--gold); margin-bottom: 10px;"><i class="fas fa-star"></i> Primary Choice</h4>'),
            (o += `<div class="item-name">${n.primary}</div>`),
            (o += `<ul>${n.primaryStats.map(e => `<li>${e}</li>`).join('')}</ul>`),
            (o += '</div>'),
            (o += '<div class="comparison-card alternative">'),
            (o +=
              '<h4 style="color: var(--orange); margin-bottom: 10px;"><i class="fas fa-exchange-alt"></i> Alternative</h4>'),
            (o += `<div class="item-name">${n.alternative}</div>`),
            (o += `<ul>${n.alternativeStats.map(e => `<li>${e}</li>`).join('')}</ul>`),
            (o += '</div>'),
            (o += '</div>'),
            (o += '<div class="tempering-box">'),
            (o += `<strong><i class="fas fa-hammer"></i> Recommended Tempering:</strong> ${n.tempering}`),
            (o += '</div>'),
            (s.innerHTML = o),
            (a.style.display = 'block'),
            this.playSound('click'),
            this.highlightElement(e));
        }
        highlightElement(e) {
          (e.classList.add('highlight-glow'), setTimeout(() => e.classList.remove('highlight-glow'), 500));
        }
        toggleTheme() {
          ((this.theme = 'dark' === this.theme ? 'light' : 'dark'), document.body.classList.toggle('light-theme'));
          document.querySelector('#themeSwitcher i').className = 'dark' === this.theme ? 'fas fa-moon' : 'fas fa-sun';
        }
        toggleSound() {
          this.soundEnabled = !this.soundEnabled;
          const e = document.getElementById('soundToggle'),
            t = e.querySelector('i');
          this.soundEnabled
            ? (e.classList.remove('muted'), (t.className = 'fas fa-volume-up'))
            : (e.classList.add('muted'), (t.className = 'fas fa-volume-mute'));
        }
        playSound(e) {
          this.soundEnabled && console.log(`Playing sound: ${e}`);
        }
        handleKeyboardShortcuts(e) {
          if (e.key >= '1' && e.key <= '4') {
            const t = document.querySelectorAll('.skill-slot'),
              a = parseInt(e.key) - 1;
            t[a] && this.activateSkill(t[a]);
          }
        }
        updateProgressBar() {
          const e = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
          document.getElementById('progressBar').style.width = e + '%';
        }
      }
      (document.addEventListener('DOMContentLoaded', () => {
        new BloodWaveGuide();
      }),
        document.querySelectorAll('.variant-tab').forEach(e => {
          e.addEventListener('click', () => {
            const t = e.dataset.variant;
            (document.querySelectorAll('.variant-tab').forEach(e => e.classList.remove('active')),
              e.classList.add('active'),
              document.querySelectorAll('.variant-content').forEach(e => {
                (e.classList.remove('active'), e.dataset.variant === t && e.classList.add('active'));
              }));
          });
        }),
        console.log(
          "\n        [Blood Wave] Advanced Shadow Blood Wave Necromancer Guide Loaded!\n\n        Built for Season 11 - Divine Intervention\n        Features: Interactive calculators, skill tracking, damage simulation\n\n        Controls:\n        - Click skills to activate\n        - Use number keys 1-4 for quick skill selection\n        - ESC to close menus\n        - Click gear for comparisons\n\n        May Rathma's power flow through you!\n        "
        ));
    </script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
    <script>
      !(function () {
        const e = document.getElementById('searchToggle'),
          t = document.getElementById('searchOverlay'),
          n = document.getElementById('searchInput'),
          i = document.getElementById('searchResults'),
          s = new Fuse(
            [
              {
                title: 'Sanctification',
                section: 'sanctification',
                content: 'Season 11 Sanctification system divine blessings'
              },
              { title: 'Build Variants', section: 'variants', content: 'Pit pushing farming speed variants' },
              {
                title: 'Skills & Keybinds',
                section: 'skills',
                content: 'Blood Wave Corpse Explosion Decrepify Blood Mist skills rotation'
              },
              { title: 'Skill Tree', section: 'skilltree', content: 'Passive skills talent points allocation' },
              { title: 'Book of the Dead', section: 'bookofthedead', content: 'Skeletal warriors mages golem minions' },
              { title: 'Paragon Boards', section: 'paragon', content: 'Glyphs rare nodes legendary boards' },
              {
                title: 'Gear & Aspects',
                section: 'gear',
                content: 'Helm chest gloves pants boots weapons aspects uniques'
              },
              {
                title: 'Stats Priority',
                section: 'stats',
                content: 'Critical strike damage cooldown reduction stats affixes'
              },
              { title: 'Gameplay Rotation', section: 'rotation', content: 'Combat rotation opener single target AoE' },
              { title: 'Gems & Runewords', section: 'gems', content: 'Ruby sapphire emerald diamond skull runewords' },
              { title: 'Mercenary Setup', section: 'mercenary', content: 'Mercenary hireling companion support' },
              { title: 'Divine Gifts', section: 'divinegifts', content: 'Divine gifts blessings season mechanic' },
              { title: 'Damage Calculator', section: 'calculator', content: 'Calculate damage DPS simulator' }
            ],
            { keys: ['title', 'content'], threshold: 0.4, includeMatches: !0 }
          );
        function o() {
          (t.classList.add('active'), n.focus(), (n.value = ''), c());
        }
        function a() {
          t.classList.remove('active');
        }
        function c() {
          for (; i.firstChild; ) i.removeChild(i.firstChild);
        }
        function l(e) {
          if ((c(), !e.trim())) return;
          const t = s.search(e);
          if (0 === t.length) {
            const e = document.createElement('div');
            return ((e.className = 'search-no-results'), (e.textContent = 'No results found'), void i.appendChild(e));
          }
          t.slice(0, 8).forEach(e => {
            i.appendChild(
              (function (e) {
                const t = document.createElement('div');
                ((t.className = 'search-result-item'), (t.dataset.section = e.section));
                const n = document.createElement('div');
                n.className = 'title';
                const i = document.createElement('i');
                ((i.className = 'fas fa-arrow-right'),
                  n.appendChild(i),
                  n.appendChild(document.createTextNode(' ' + e.title)));
                const s = document.createElement('div');
                return (
                  (s.className = 'context'),
                  (s.textContent = e.content),
                  t.appendChild(n),
                  t.appendChild(s),
                  t.addEventListener('click', () => {
                    (a(), document.getElementById(e.section)?.scrollIntoView({ behavior: 'smooth' }));
                  }),
                  t
                );
              })(e.item)
            );
          });
        }
        (e.addEventListener('click', o),
          t.addEventListener('click', e => {
            e.target === t && a();
          }),
          n.addEventListener('input', e => l(e.target.value)),
          document.addEventListener('keydown', e => {
            ((e.ctrlKey || e.metaKey) && 'k' === e.key && (e.preventDefault(), o()), 'Escape' === e.key && a());
          }));
      })();
    </script>
    <script>
      'serviceWorker' in navigator &&
        window.addEventListener('load', () => {
          navigator.serviceWorker
            .register('/service-worker.js')
            .then(e => console.log('SW registered:', e.scope))
            .catch(e => console.log('SW registration failed:', e));
        });
    </script>
  </body>
</html>
